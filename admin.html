<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªØ¬Ø± - Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ ÙˆÙ…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ù„ÙˆØ§Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ */
        :root {
            --primary-color: #FF6B8B;
            --primary-dark: #E05575;
            --success-color: #06D6A0;
            --danger-color: #ff4757;
            --secondary-color: #4ECDC4;
            --warning-color: #FFD166;
            --dark-color: #2D3047;
            --light-color: #f5f7fa;
            --text-color: #333;
            --text-light: #666;
            --border-color: #e2e8f0;
            --shadow: 0 10px 40px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --radius: 12px;
        }

        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù†Ø¸Ø§Ù… */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: "Cairo", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            padding: 20px;
            direction: rtl;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ */
        .card {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .card:hover {
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-color);
        }

        .card-title {
            color: var(--primary-color);
            font-size: 18px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø°ÙƒÙŠ */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 1;
            }
            20% {
                transform: scale(25, 25);
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: scale(40, 40);
            }
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 139, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color), #05b88c);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger-color), #ff3838);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary-color), #3BB4AC);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning-color), #FFC145);
            color: var(--dark-color);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 13px;
        }

        .btn-lg {
            padding: 15px 30px;
            font-size: 16px;
        }

        .btn-block {
            width: 100%;
            display: flex;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø°ÙƒÙŠ */
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-color);
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 14px;
            transition: var(--transition);
            background: white;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 139, 0.2);
            transform: translateY(-1px);
        }

        .form-control:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }

        .form-text {
            display: block;
            margin-top: 5px;
            font-size: 12px;
            color: var(--text-light);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø°ÙƒÙŠ */
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
        }

        .nav-tab:hover {
            background: #e9ecef;
        }

        .nav-tab.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 2px 10px rgba(255, 107, 139, 0.3);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨Ø© */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -10px;
        }

        .col {
            flex: 1;
            padding: 0 10px;
            min-width: 250px;
        }

        .col-2 { flex: 0 0 50%; max-width: 50%; }
        .col-3 { flex: 0 0 33.333%; max-width: 33.333%; }
        .col-4 { flex: 0 0 25%; max-width: 25%; }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            border-top: 4px solid var(--primary-color);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.12);
        }

        .stat-card h4 {
            color: var(--text-light);
            font-size: 13px;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒÙŠ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--radius);
            color: white;
            font-weight: 500;
            z-index: 10000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 400px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success-color);
        }

        .notification.error {
            background: var(--danger-color);
        }

        .notification.warning {
            background: var(--warning-color);
            color: var(--dark-color);
        }

        .notification.info {
            background: var(--secondary-color);
            color: white;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø°ÙƒÙŠ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 20000;
            animation: fadeIn 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .modal-title {
            color: var(--dark-color);
            font-size: 18px;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text-light);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--danger-color);
            transform: rotate(90deg);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© */
        .product-card {
            border: 2px solid var(--border-color);
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 15px;
            background: white;
            transition: var(--transition);
            position: relative;
        }

        .product-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 5px 20px rgba(255, 107, 139, 0.1);
            transform: translateY(-3px);
        }

        .product-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© */
        .code-block {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--radius);
            font-family: monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 10px 0;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ */
        .color-picker {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: var(--transition);
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.active {
            border-color: var(--dark-color);
            transform: scale(1.1);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ© */
        .search-box {
            position: relative;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 14px;
            transition: var(--transition);
        }

        .search-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(255, 107, 139, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±ØªÙŠØ¨ */
        .sort-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .sort-select {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            background: white;
            font-size: 14px;
            cursor: pointer;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠØ³Ø¨ÙˆÙ†Ø³ÙŠÙ */
        @media (max-width: 768px) {
            .row {
                flex-direction: column;
            }
            
            .col, .col-2, .col-3, .col-4 {
                flex: 0 0 100%;
                max-width: 100%;
                margin-bottom: 15px;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
            
            .modal-content {
                width: 95%;
                padding: 20px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ØªØ®ØµÙŠØµ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark-color);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark-color) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙˆØ± */
        .image-container {
            position: relative;
            overflow: hidden;
            border-radius: var(--radius);
        }

        .image-container img {
            width: 100%;
            height: auto;
            transition: transform 0.3s ease;
        }

        .image-container:hover img {
            transform: scale(1.05);
        }

        /* Ù†Ø¸Ø§Ù… Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© */
        .inner-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        .inner-tab {
            padding: 8px 16px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-light);
            transition: var(--transition);
            position: relative;
        }

        .inner-tab:hover {
            color: var(--primary-color);
        }

        .inner-tab.active {
            color: var(--primary-color);
        }

        .inner-tab.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-color);
            border-radius: 3px;
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--success-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
        .alert {
            padding: 15px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            border-left: 4px solid transparent;
        }

        .alert-success {
            background-color: rgba(6, 214, 160, 0.1);
            border-color: var(--success-color);
            color: #155724;
        }

        .alert-danger {
            background-color: rgba(255, 71, 87, 0.1);
            border-color: var(--danger-color);
            color: #721c24;
        }

        .alert-warning {
            background-color: rgba(255, 209, 102, 0.1);
            border-color: var(--warning-color);
            color: #856404;
        }

        .alert-info {
            background-color: rgba(78, 205, 196, 0.1);
            border-color: var(--secondary-color);
            color: #0c5460;
        }

        /* Ø£Ù†Ø¸Ù…Ø© Ø®Ø§ØµØ© Ø¨Ù…ÙƒÙˆÙ†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .password-protection {
            background: white;
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            text-align: center;
            max-width: 450px;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .password-protection::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 25px;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(255, 107, 139, 0.3);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© */
        .french-numbers {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            direction: ltr;
            display: inline-block;
        }

        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .text-left {
            text-align: left;
        }

        .mt-1 { margin-top: 5px; }
        .mt-2 { margin-top: 10px; }
        .mt-3 { margin-top: 15px; }
        .mt-4 { margin-top: 20px; }
        .mt-5 { margin-top: 25px; }

        .mb-1 { margin-bottom: 5px; }
        .mb-2 { margin-bottom: 10px; }
        .mb-3 { margin-bottom: 15px; }
        .mb-4 { margin-bottom: 20px; }
        .mb-5 { margin-bottom: 25px; }

        .p-1 { padding: 5px; }
        .p-2 { padding: 10px; }
        .p-3 { padding: 15px; }
        .p-4 { padding: 20px; }
        .p-5 { padding: 25px; }

        .d-flex {
            display: flex;
        }

        .d-grid {
            display: grid;
        }

        .align-center {
            align-items: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-1 { gap: 5px; }
        .gap-2 { gap: 10px; }
        .gap-3 { gap: 15px; }
        .gap-4 { gap: 20px; }

        .cursor-pointer {
            cursor: pointer;
        }

        .opacity-50 {
            opacity: 0.5;
        }

        .w-100 {
            width: 100%;
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
        @media (min-width: 1200px) {
            body {
                font-size: 15px;
            }
            
            .container {
                padding: 0 20px;
            }
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .card {
                padding: 15px;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="loginScreen" class="password-protection">
        <div class="card-header justify-between">
            <h2 class="card-title"><i class="fas fa-lock"></i> Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
            <div class="color-picker" id="themePicker">
                <div class="color-option" style="background: #FF6B8B;" onclick="setTheme('default')"></div>
                <div class="color-option" style="background: #4ECDC4;" onclick="setTheme('blue')"></div>
                <div class="color-option" style="background: #FFD166;" onclick="setTheme('yellow')"></div>
                <div class="color-option" style="background: #06D6A0;" onclick="setTheme('green')"></div>
                <div class="color-option" style="background: #2D3047;" onclick="setTheme('dark')"></div>
            </div>
        </div>
        
        <p class="mb-4">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
        
        <div class="form-group">
            <input type="password" id="adminPassword" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="off">
            <i class="fas fa-key search-icon"></i>
        </div>
        
        <div class="alert alert-danger hidden" id="passwordError">
            <i class="fas fa-exclamation-circle"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!
        </div>
        
        <button class="btn btn-primary btn-block btn-lg" onclick="checkAdminPassword()">
            <i class="fas fa-sign-in-alt"></i> Ø¯Ø®ÙˆÙ„
        </button>
        
        <div class="mt-4 text-center">
            <small class="text-muted">
                ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: <strong class="french-numbers">4*45D6A8</strong>
            </small>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="dashboard" class="container hidden">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <div class="header">
            <h1><i class="fas fa-cogs"></i> Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø°ÙƒÙŠ</h1>
            <p>Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± Ù…Ù† Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</p>
            <div id="syncStatus" class="alert alert-info hidden mt-3"></div>
        </div>

        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© -->
        <div class="stats-grid">
            <div class="stat-card">
                <h4>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h4>
                <div class="value" id="productsCount">0</div>
            </div>
            <div class="stat-card">
                <h4>Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ÙØ¹Ù‘Ù„Ø©</h4>
                <div class="value" id="wilayasCount">0</div>
            </div>
            <div class="stat-card">
                <h4>Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</h4>
                <div class="value" id="tokensCount">0</div>
            </div>
            <div class="stat-card">
                <h4>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«</h4>
                <div class="value" id="lastUpdate">-</div>
            </div>
        </div>

        <!-- Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-sync-alt"></i> Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</h3>
                <div class="d-flex align-center gap-2">
                    <span id="currentRepoName" class="badge bg-primary">Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆØ¯Ø¹</span>
                    <button class="btn btn-secondary btn-sm" onclick="switchTab('tokens')">
                        <i class="fas fa-cog"></i> ØªØºÙŠÙŠØ±
                    </button>
                </div>
            </div>
            
            <div class="row mt-3">
                <div class="col-2">
                    <button class="btn btn-success btn-block" onclick="quickSaveAllSettings()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ ÙˆÙ…Ø²Ø§Ù…Ù†Ø©
                    </button>
                </div>
                <div class="col-2">
                    <button class="btn btn-secondary btn-block" onclick="quickLoadFromGitHub()">
                        <i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„
                    </button>
                </div>
                <div class="col-2">
                    <button class="btn btn-warning btn-block" onclick="exportSettings()">
                        <i class="fas fa-file-export"></i> ØªØµØ¯ÙŠØ±
                    </button>
                </div>
                <div class="col-2">
                    <input type="file" id="importFile" class="hidden" accept=".json" onchange="importSettings(this)">
                    <button class="btn btn-info btn-block" onclick="document.getElementById('importFile').click()">
                        <i class="fas fa-file-import"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯
                    </button>
                </div>
                <div class="col-2">
                    <button class="btn btn-danger btn-block" onclick="resetSettings()">
                        <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                    </button>
                </div>
                <div class="col-2">
                    <button class="btn btn-primary btn-block" onclick="goToStore()">
                        <i class="fas fa-store"></i> Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù…ØªØ¬Ø±
                    </button>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('products')">
                <i class="fas fa-box"></i> Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            </button>
            <button class="nav-tab" onclick="switchTab('delivery')">
                <i class="fas fa-truck"></i> Ø§Ù„ØªÙˆØµÙŠÙ„
            </button>
            <button class="nav-tab" onclick="switchTab('settings')">
                <i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            </button>
            <button class="nav-tab" onclick="switchTab('tokens')">
                <i class="fas fa-key"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª
            </button>
            <button class="nav-tab" onclick="switchTab('security')">
                <i class="fas fa-shield-alt"></i> Ø§Ù„Ø£Ù…Ø§Ù†
            </button>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
        <div class="tab-content active" id="products">
            <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ -->
        </div>

        <div class="tab-content" id="delivery">
            <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙˆØµÙŠÙ„ Ù‡Ù†Ø§ -->
        </div>

        <div class="tab-content" id="settings">
            <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‡Ù†Ø§ -->
        </div>

        <div class="tab-content" id="tokens">
            <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª Ù‡Ù†Ø§ -->
        </div>

        <div class="tab-content" id="security">
            <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ù…Ø§Ù† Ù‡Ù†Ø§ -->
        </div>

        <!-- Ø²Ø± Ø§Ù„Ø®Ø±ÙˆØ¬ -->
        <div class="card mt-4">
            <button class="btn btn-danger btn-block" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
            </button>
        </div>
    </div>

    <!-- Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© -->
    <div id="dynamicComponents"></div>

    <!-- Ø§Ù„Ù…ÙˆØ¯Ø§Ù„Ø§Øª -->
    <div id="modalContainer"></div>

    <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div id="notificationContainer"></div>

    <script>
        // =============================================================================
        // ğŸ“¦ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø°ÙƒÙŠ
        // =============================================================================

        class StoreDashboard {
            constructor() {
                this.config = {
                    PRODUCTS: {},
                    DELIVERY_PRICES: {},
                    FREE_DELIVERY: {
                        desk: { enabled: false, minQuantity: null, wilayas: [] },
                        home: { enabled: false, minQuantity: null, wilayas: [] },
                        freeDeliveryProducts: []
                    },
                    DISCOUNTS: {
                        enableQuantityDiscount: false,
                        minQuantityForDiscount: 2,
                        discountPerItem: 300,
                        discountScope: 'all',
                        discountProducts: [],
                        enablePromotionalDiscount: false,
                        promotionalDiscountPercent: 20,
                        promotionalDiscountedPrice: 0,
                        promoDiscountScope: 'all',
                        promoDiscountProducts: []
                    },
                    STORE_INFO: {
                        name: "Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø·ÙØ§Ù„",
                        storeIcon: "ğŸ‘‘",
                        storeTitle: "ğŸ‘‘ Ø£Ø­Ø¯Ø« Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„",
                        tagline: "Ù…ØªØ¬Ø± Ø£ÙØ®Ù… Ø§Ù„Ù…Ù„Ø§Ø¨Ø³",
                        phoneNumbers: ["0671466489", "0551102155"],
                        logo: "",
                        facebookUrl: "",
                        instagramUrl: "",
                        messengerUrl: "",
                        viberNumber: "",
                        whatsappNumber: "",
                        whatsappUrl: ""
                    },
                    GOOGLE_SHEETS: {
                        url: "",
                        description: "",
                        autoUpdate: false
                    },
                    AVAILABLE_COLORS: ["Ø£Ø¨ÙŠØ¶", "Ø£Ø³ÙˆØ¯", "Ø£Ø­Ù…Ø±", "Ø£Ø²Ø±Ù‚"],
                    AVAILABLE_SIZES: ["S", "M", "L", "XL", "XXL", "A"],
                    SIZE_GUIDE: {
                        "XS": { heightFrom: 150, heightTo: 160, weightFrom: 40, weightTo: 55, enabled: true },
                        "S": { heightFrom: 160, heightTo: 175, weightFrom: 50, weightTo: 65, enabled: true },
                        "M": { heightFrom: 170, heightTo: 180, weightFrom: 65, weightTo: 80, enabled: true },
                        "L": { heightFrom: 180, heightTo: 195, weightFrom: 70, weightTo: 90, enabled: true },
                        "XL": { heightFrom: 185, heightTo: 200, weightFrom: 85, weightTo: 110, enabled: true }
                    }
                };

                this.tokens = JSON.parse(localStorage.getItem('github_tokens') || '{}');
                this.currentProductPage = 1;
                this.productsPerPage = 3;
                this.activeColorTab = {};
                this.currentTheme = localStorage.getItem('theme') || 'default';
                this.init();
            }

            init() {
                this.setTheme(this.currentTheme);
                this.checkAuthentication();
                this.setupEventListeners();
                this.loadConfig();
            }

            setTheme(themeName) {
                const themes = {
                    default: { primary: '#FF6B8B', primaryDark: '#E05575' },
                    blue: { primary: '#4ECDC4', primaryDark: '#3BB4AC' },
                    yellow: { primary: '#FFD166', primaryDark: '#FFC145' },
                    green: { primary: '#06D6A0', primaryDark: '#05b88c' },
                    dark: { primary: '#2D3047', primaryDark: '#1a1c2b' }
                };

                const theme = themes[themeName] || themes.default;
                document.documentElement.style.setProperty('--primary-color', theme.primary);
                document.documentElement.style.setProperty('--primary-dark', theme.primaryDark);
                localStorage.setItem('theme', themeName);
                this.currentTheme = themeName;
            }

            setupEventListeners() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && document.getElementById('adminPassword')) {
                        this.checkAdminPassword();
                    }
                });

                window.addEventListener('configUpdated', (e) => {
                    this.config = e.detail;
                    this.loadSettings();
                });
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
            checkAdminPassword() {
                const password = document.getElementById('adminPassword')?.value;
                const errorElement = document.getElementById('passwordError');
                const savedPassword = localStorage.getItem('adminPassword') || '4*45D6A8';
                
                if (password === savedPassword) {
                    this.showLoginScreen(false);
                    localStorage.setItem('adminAuthenticated', 'true');
                    this.loadSettings();
                    this.updateStats();
                    this.updateCurrentRepoDisplay();
                    this.showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                } else {
                    errorElement?.classList.remove('hidden');
                    document.getElementById('adminPassword').value = '';
                    document.getElementById('adminPassword').focus();
                    this.showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
                }
            }

            checkAuthentication() {
                const isAuthenticated = localStorage.getItem('adminAuthenticated');
                if (isAuthenticated === 'true') {
                    this.showLoginScreen(false);
                    this.loadSettings();
                    this.updateStats();
                    this.updateCurrentRepoDisplay();
                } else {
                    this.showLoginScreen(true);
                }
            }

            showLoginScreen(show) {
                document.getElementById('loginScreen').classList.toggle('hidden', !show);
                document.getElementById('dashboard').classList.toggle('hidden', show);
            }

            logout() {
                localStorage.removeItem('adminAuthenticated');
                this.showLoginScreen(true);
                this.showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            loadConfig() {
                try {
                    const savedConfig = localStorage.getItem('storeConfig');
                    if (savedConfig) {
                        const parsedConfig = JSON.parse(savedConfig);
                        this.config = { ...this.config, ...parsedConfig };
                        return true;
                    }
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:', error);
                }
                return false;
            }

            saveConfig() {
                try {
                    localStorage.setItem('storeConfig', JSON.stringify(this.config));
                    localStorage.setItem('lastUpdate', new Date().toISOString());
                    return true;
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:', error);
                    return false;
                }
            }

            loadSettings() {
                this.loadProductsManagement();
                this.loadWilayasGrid();
                this.loadDiscountSettings();
                this.loadStoreInfo();
                this.loadSocialMedia();
                this.loadAvailableColors();
                this.loadAvailableSizes();
                this.loadTokensList();
                this.loadStoreLogo();
                this.loadGoogleSheetsSettings();
                this.loadFreeDeliverySettings();
                this.loadSizeGuide();
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
            switchTab(tabName) {
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                const targetTab = document.getElementById(tabName);
                const targetButton = event?.target.closest('.nav-tab');
                
                if (targetTab) {
                    targetTab.classList.add('active');
                    if (targetButton) targetButton.classList.add('active');
                    
                    switch(tabName) {
                        case 'products':
                            this.loadProductsTab();
                            break;
                        case 'delivery':
                            this.loadDeliveryTab();
                            break;
                        case 'settings':
                            this.loadSettingsTab();
                            break;
                        case 'tokens':
                            this.loadTokensTab();
                            break;
                        case 'security':
                            this.loadSecurityTab();
                            break;
                    }
                }
            }

            loadProductsTab() {
                const container = document.getElementById('products');
                container.innerHTML = `
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-boxes"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
                            <div class="d-flex gap-2">
                                <div class="search-box">
                                    <input type="text" class="search-input" placeholder="Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª..." 
                                           onkeyup="storeDashboard.searchProducts(this.value)">
                                    <i class="fas fa-search search-icon"></i>
                                </div>
                                <button class="btn btn-success" onclick="storeDashboard.addNewProduct()">
                                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
                                </button>
                            </div>
                        </div>
                        
                        <div id="productsContent">
                            ${this.renderProductsManagement()}
                        </div>
                    </div>
                `;
            }

            loadDeliveryTab() {
                const container = document.getElementById('delivery');
                container.innerHTML = `
                    <div class="row">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-shipping-fast"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ</h3>
                                </div>
                                ${this.renderFreeDeliveryManagement()}
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-map-marked-alt"></i> Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                                </div>
                                ${this.renderDeliveryPrices()}
                            </div>
                        </div>
                    </div>
                `;
            }

            loadSettingsTab() {
                const container = document.getElementById('settings');
                container.innerHTML = `
                    <div class="row">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-store"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</h3>
                                </div>
                                ${this.renderStoreInfo()}
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-ruler-combined"></i> Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª</h3>
                                </div>
                                ${this.renderSizeGuide()}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-share-alt"></i> ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„</h3>
                                </div>
                                ${this.renderSocialMedia()}
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fab fa-google"></i> Ø¬ÙˆØ¬Ù„ Ø´ÙŠØªØ³</h3>
                                </div>
                                ${this.renderGoogleSheets()}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-palette"></i> Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø©</h3>
                                </div>
                                ${this.renderAvailableColors()}
                            </div>
                        </div>
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-ruler"></i> Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h3>
                                </div>
                                ${this.renderAvailableSizes()}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title"><i class="fas fa-tag"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ø®ØµÙ…</h3>
                                </div>
                                ${this.renderDiscountSystem()}
                            </div>
                        </div>
                    </div>
                `;
            }

            loadTokensTab() {
                const container = document.getElementById('tokens');
                container.innerHTML = `
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-key"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª</h3>
                        </div>
                        ${this.renderTokenManagement()}
                    </div>
                `;
            }

            loadSecurityTab() {
                const container = document.getElementById('security');
                container.innerHTML = `
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-shield-alt"></i> Ø§Ù„Ø£Ù…Ø§Ù†</h3>
                        </div>
                        ${this.renderSecurityManagement()}
                    </div>
                `;
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            renderProductsManagement() {
                const productIds = Object.keys(this.config.PRODUCTS);
                const totalPages = Math.ceil(productIds.length / this.productsPerPage);
                const startIndex = (this.currentProductPage - 1) * this.productsPerPage;
                const endIndex = startIndex + this.productsPerPage;
                const currentProducts = productIds.slice(startIndex, endIndex);

                if (currentProducts.length === 0) {
                    return '<div class="alert alert-info text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§</div>';
                }

                let html = '<div class="row">';
                currentProducts.forEach(id => {
                    const product = this.config.PRODUCTS[id];
                    html += `
                        <div class="col">
                            <div class="product-card">
                                <div class="product-card-header">
                                    <h4>${product.name || 'Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯'}</h4>
                                    <span class="badge bg-primary">${product.price || 0} Ø¯Ø¬</span>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
                                    <input type="text" class="form-control" value="${product.name || ''}" 
                                           onchange="storeDashboard.updateProductField(${id}, 'name', this.value)">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Ø§Ù„Ø³Ø¹Ø± (Ø¯Ø¬):</label>
                                    <input type="number" class="form-control" value="${product.price || 0}" 
                                           onchange="storeDashboard.updateProductField(${id}, 'price', this.value)">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Ø§Ù„ØµÙˆØ±Ø©:</label>
                                    <input type="text" class="form-control" value="${product.image || ''}" 
                                           placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©"
                                           onchange="storeDashboard.updateProductField(${id}, 'image', this.value)">
                                </div>
                                
                                <div class="d-flex justify-between mt-3">
                                    <button class="btn btn-danger btn-sm" onclick="storeDashboard.removeProduct(${id})">
                                        <i class="fas fa-trash"></i> Ø­Ø°Ù
                                    </button>
                                    <button class="btn btn-success btn-sm" onclick="storeDashboard.saveProduct(${id})">
                                        <i class="fas fa-save"></i> Ø­ÙØ¸
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ±Ù‚ÙŠÙ…
                if (totalPages > 1) {
                    html += this.renderPagination(totalPages);
                }

                return html;
            }

            renderPagination(totalPages) {
                let html = '<div class="d-flex justify-center gap-2 mt-4">';
                if (this.currentProductPage > 1) {
                    html += `<button class="btn btn-secondary btn-sm" onclick="storeDashboard.changeProductPage(${this.currentProductPage - 1})">
                                <i class="fas fa-chevron-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                            </button>`;
                }
                
                for (let i = 1; i <= totalPages; i++) {
                    html += `<button class="btn btn-sm ${i === this.currentProductPage ? 'btn-primary' : 'btn-secondary'}" 
                                     onclick="storeDashboard.changeProductPage(${i})">${i}</button>`;
                }
                
                if (this.currentProductPage < totalPages) {
                    html += `<button class="btn btn-secondary btn-sm" onclick="storeDashboard.changeProductPage(${this.currentProductPage + 1})">
                                Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-chevron-left"></i>
                            </button>`;
                }
                html += '</div>';
                return html;
            }

            addNewProduct() {
                const newId = Math.max(0, ...Object.keys(this.config.PRODUCTS).map(Number)) + 1;
                this.config.PRODUCTS[newId] = {
                    name: "",
                    price: 0,
                    image: "",
                    description: "",
                    availableSizes: [],
                    availableColors: [],
                    ageRanges: [],
                    colorImages: {},
                    sizeGuide: { enabled: false, guide: {} }
                };
                
                this.saveConfig();
                this.loadProductsTab();
                this.showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯', 'success');
            }

            updateProductField(id, field, value) {
                if (!this.config.PRODUCTS[id]) return;
                this.config.PRODUCTS[id][field] = field === 'price' ? parseInt(value) : value;
                this.showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬', 'info');
            }

            saveProduct(id) {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬', 'success');
            }

            removeProduct(id) {
                if (Object.keys(this.config.PRODUCTS).length <= 1) {
                    this.showNotification('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª', 'error');
                    return;
                }

                this.showConfirmModal(
                    'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ',
                    () => {
                        delete this.config.PRODUCTS[id];
                        this.saveConfig();
                        this.loadProductsTab();
                        this.showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬', 'success');
                    }
                );
            }

            changeProductPage(page) {
                this.currentProductPage = page;
                this.loadProductsTab();
            }

            searchProducts(query) {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø­Ø« Ù„Ø§Ø­Ù‚Ø§Ù‹
                console.log('Ø¨Ø­Ø« Ø¹Ù†:', query);
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØµÙŠÙ„
            renderFreeDeliveryManagement() {
                return `
                    <div class="form-group">
                        <label class="form-label d-flex align-center gap-2">
                            <span>Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒØªØ¨</span>
                            <label class="switch">
                                <input type="checkbox" ${this.config.FREE_DELIVERY.desk.enabled ? 'checked' : ''} 
                                       onchange="storeDashboard.toggleFreeDelivery('desk', this.checked)">
                                <span class="slider"></span>
                            </label>
                        </label>
                        ${this.config.FREE_DELIVERY.desk.enabled ? `
                            <input type="number" class="form-control mt-2" 
                                   value="${this.config.FREE_DELIVERY.desk.minQuantity || ''}"
                                   placeholder="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ÙƒÙ…ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"
                                   onchange="storeDashboard.updateFreeDeliveryMinQuantity('desk', this.value)">
                        ` : ''}
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label d-flex align-center gap-2">
                            <span>Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø²Ù„</span>
                            <label class="switch">
                                <input type="checkbox" ${this.config.FREE_DELIVERY.home.enabled ? 'checked' : ''}
                                       onchange="storeDashboard.toggleFreeDelivery('home', this.checked)">
                                <span class="slider"></span>
                            </label>
                        </label>
                        ${this.config.FREE_DELIVERY.home.enabled ? `
                            <input type="number" class="form-control mt-2" 
                                   value="${this.config.FREE_DELIVERY.home.minQuantity || ''}"
                                   placeholder="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ÙƒÙ…ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"
                                   onchange="storeDashboard.updateFreeDeliveryMinQuantity('home', this.value)">
                        ` : ''}
                    </div>
                    
                    <button class="btn btn-success w-100 mt-3" onclick="storeDashboard.saveFreeDeliverySettings()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„
                    </button>
                `;
            }

            renderDeliveryPrices() {
                const wilayas = Object.keys(this.config.DELIVERY_PRICES);
                
                if (wilayas.length === 0) {
                    return '<div class="alert alert-info text-center">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆÙ„Ø§ÙŠØ§Øª Ù…Ø¶Ø§ÙØ©</div>';
                }

                let html = '<div class="row">';
                wilayas.forEach(wilaya => {
                    const prices = this.config.DELIVERY_PRICES[wilaya];
                    html += `
                        <div class="col">
                            <div class="card p-3 mb-2">
                                <div class="d-flex justify-between align-center">
                                    <strong>${wilaya}</strong>
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-warning btn-sm" onclick="storeDashboard.editWilaya('${wilaya}')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm" onclick="storeDashboard.deleteWilaya('${wilaya}')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <small>Ø§Ù„Ù…Ù†Ø²Ù„: ${prices.home} Ø¯Ø¬</small><br>
                                    <small>Ø§Ù„Ù…ÙƒØªØ¨: ${prices.desk} Ø¯Ø¬</small>
                                </div>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
                
                // Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© ÙˆÙ„Ø§ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
                html += `
                    <div class="card mt-4">
                        <h4 class="mb-3"><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© ÙˆÙ„Ø§ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</h4>
                        <div class="row">
                            <div class="col">
                                <input type="text" id="newWilayaNumber" class="form-control" placeholder="Ø±Ù‚Ù… Ø§Ù„ÙˆÙ„Ø§ÙŠØ©">
                            </div>
                            <div class="col">
                                <input type="text" id="newWilayaName" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆÙ„Ø§ÙŠØ©">
                            </div>
                            <div class="col">
                                <input type="number" id="newWilayaHomePrice" class="form-control" placeholder="Ø³Ø¹Ø± Ø§Ù„Ù…Ù†Ø²Ù„">
                            </div>
                            <div class="col">
                                <input type="number" id="newWilayaDeskPrice" class="form-control" placeholder="Ø³Ø¹Ø± Ø§Ù„Ù…ÙƒØªØ¨">
                            </div>
                            <div class="col">
                                <button class="btn btn-primary w-100" onclick="storeDashboard.addNewWilaya()">
                                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ©
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                return html;
            }

            toggleFreeDelivery(type, enabled) {
                this.config.FREE_DELIVERY[type].enabled = enabled;
                this.showNotification(`ØªÙ… ${enabled ? 'ØªÙØ¹ÙŠÙ„' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù€ ${type}`, 'success');
            }

            updateFreeDeliveryMinQuantity(type, value) {
                this.config.FREE_DELIVERY[type].minQuantity = value ? parseInt(value) : null;
            }

            saveFreeDeliverySettings() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ', 'success');
            }

            addNewWilaya() {
                const number = document.getElementById('newWilayaNumber')?.value.trim();
                const name = document.getElementById('newWilayaName')?.value.trim();
                const homePrice = parseInt(document.getElementById('newWilayaHomePrice')?.value);
                const deskPrice = parseInt(document.getElementById('newWilayaDeskPrice')?.value);
                
                if (!number || !name || isNaN(homePrice) || isNaN(deskPrice)) {
                    this.showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­', 'error');
                    return;
                }
                
                const wilayaKey = `${number.padStart(2, '0')} - ${name}`;
                
                if (this.config.DELIVERY_PRICES[wilayaKey]) {
                    this.showNotification('Ù‡Ø°Ù‡ Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹', 'error');
                    return;
                }
                
                this.config.DELIVERY_PRICES[wilayaKey] = {
                    home: homePrice,
                    desk: deskPrice
                };
                
                // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
                ['newWilayaNumber', 'newWilayaName', 'newWilayaHomePrice', 'newWilayaDeskPrice'].forEach(id => {
                    const el = document.getElementById(id);
                    if (el) el.value = '';
                });
                
                this.saveConfig();
                this.loadDeliveryTab();
                this.showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ÙˆÙ„Ø§ÙŠØ© ${name} Ø¨Ù†Ø¬Ø§Ø­`, 'success');
            }

            editWilaya(wilayaKey) {
                const parts = wilayaKey.split(' - ');
                const number = parts[0].trim();
                const name = parts[1].trim();
                const prices = this.config.DELIVERY_PRICES[wilayaKey];
                
                // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„
                const setValue = (id, value) => {
                    const el = document.getElementById(id);
                    if (el) el.value = value;
                };
                
                setValue('newWilayaNumber', number);
                setValue('newWilayaName', name);
                setValue('newWilayaHomePrice', prices.home);
                setValue('newWilayaDeskPrice', prices.desk);
                
                // Ø­Ø°Ù Ø§Ù„Ù‚Ø¯ÙŠÙ…
                this.deleteWilaya(wilayaKey, false);
                this.showNotification('ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆÙ„Ø§ÙŠØ©', 'info');
            }

            deleteWilaya(wilayaKey, showNotification = true) {
                this.showConfirmModal(
                    `Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ÙˆÙ„Ø§ÙŠØ© ${wilayaKey}ØŸ`,
                    () => {
                        delete this.config.DELIVERY_PRICES[wilayaKey];
                        this.saveConfig();
                        this.loadDeliveryTab();
                        if (showNotification) {
                            this.showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„ÙˆÙ„Ø§ÙŠØ©', 'success');
                        }
                    }
                );
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
            renderStoreInfo() {
                return `
                    <div class="form-group">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±:</label>
                        <input type="text" class="form-control" value="${this.config.STORE_INFO.name || ''}"
                               onchange="storeDashboard.updateStoreInfo('name', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±:</label>
                        <input type="text" class="form-control" value="${this.config.STORE_INFO.storeIcon || 'ğŸ‘‘'}"
                               onchange="storeDashboard.updateStoreInfo('storeIcon', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:</label>
                        <input type="text" class="form-control" value="${this.config.STORE_INFO.tagline || ''}"
                               onchange="storeDashboard.updateStoreInfo('tagline', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
                        <input type="text" class="form-control" value="${this.config.STORE_INFO.phoneNumbers?.join(', ') || ''}"
                               onchange="storeDashboard.updateStoreInfo('phoneNumbers', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨:</label>
                        <input type="tel" class="form-control" value="${this.config.STORE_INFO.whatsappNumber || ''}"
                               onchange="storeDashboard.updateStoreInfo('whatsappNumber', this.value)">
                    </div>
                    
                    <button class="btn btn-primary w-100 mt-3" onclick="storeDashboard.saveStoreInfo()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
                    </button>
                `;
            }

            renderSizeGuide() {
                return `
                    <div class="form-group">
                        <label class="form-label">ØªÙØ¹ÙŠÙ„ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª:</label>
                        <label class="switch">
                            <input type="checkbox" ${this.config.SIZE_GUIDE ? 'checked' : ''}
                                   onchange="storeDashboard.toggleSizeGuide(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    ${this.config.SIZE_GUIDE ? `
                        <div class="code-block">
                            ${JSON.stringify(this.config.SIZE_GUIDE, null, 2)}
                        </div>
                    ` : ''}
                    
                    <button class="btn btn-secondary w-100 mt-3" onclick="storeDashboard.saveSizeGuide()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª
                    </button>
                `;
            }

            renderSocialMedia() {
                return `
                    <div class="form-group">
                        <label class="form-label">Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ:</label>
                        <input type="url" class="form-control" value="${this.config.STORE_INFO.facebookUrl || ''}"
                               onchange="storeDashboard.updateSocialMedia('facebookUrl', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ù†Ø³ØªÙ‚Ø±Ø§Ù…:</label>
                        <input type="url" class="form-control" value="${this.config.STORE_INFO.instagramUrl || ''}"
                               onchange="storeDashboard.updateSocialMedia('instagramUrl', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø³Ù†Ø¬Ø±:</label>
                        <input type="url" class="form-control" value="${this.config.STORE_INFO.messengerUrl || ''}"
                               onchange="storeDashboard.updateSocialMedia('messengerUrl', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø±Ù‚Ù… Ø§Ù„ÙØ§ÙŠØ¨Ø±:</label>
                        <input type="tel" class="form-control" value="${this.config.STORE_INFO.viberNumber || ''}"
                               onchange="storeDashboard.updateSocialMedia('viberNumber', this.value)">
                    </div>
                    
                    <button class="btn btn-primary w-100 mt-3" onclick="storeDashboard.saveSocialMedia()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„
                    </button>
                `;
            }

            renderGoogleSheets() {
                return `
                    <div class="form-group">
                        <label class="form-label">Ø±Ø§Ø¨Ø· Ø¬ÙˆØ¬Ù„ Ø´ÙŠØªØ³:</label>
                        <input type="url" class="form-control" value="${this.config.GOOGLE_SHEETS.url || ''}"
                               placeholder="https://docs.google.com/spreadsheets/d/..."
                               onchange="storeDashboard.updateGoogleSheets('url', this.value)">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:</label>
                        <label class="switch">
                            <input type="checkbox" ${this.config.GOOGLE_SHEETS.autoUpdate || false}
                                   onchange="storeDashboard.updateGoogleSheets('autoUpdate', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <button class="btn btn-success w-100 mt-3" onclick="storeDashboard.saveGoogleSheets()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¬ÙˆØ¬Ù„ Ø´ÙŠØªØ³
                    </button>
                `;
            }

            renderAvailableColors() {
                return `
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø©:</label>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            ${this.config.AVAILABLE_COLORS.map(color => `
                                <span class="badge bg-primary d-flex align-center gap-1">
                                    ${color}
                                    <i class="fas fa-times cursor-pointer" 
                                       onclick="storeDashboard.removeAvailableItem('color', '${color}')"></i>
                                </span>
                            `).join('')}
                        </div>
                        <div class="d-flex gap-2">
                            <input type="text" id="newColorInput" class="form-control" placeholder="Ø¥Ø¶Ø§ÙØ© Ù„ÙˆÙ† Ø¬Ø¯ÙŠØ¯">
                            <button class="btn btn-success" onclick="storeDashboard.addAvailableItem('color')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary w-100" onclick="storeDashboard.saveAvailableColors()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
                    </button>
                `;
            }

            renderAvailableSizes() {
                return `
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:</label>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            ${this.config.AVAILABLE_SIZES.map(size => `
                                <span class="badge bg-secondary d-flex align-center gap-1">
                                    ${size}
                                    <i class="fas fa-times cursor-pointer" 
                                       onclick="storeDashboard.removeAvailableItem('size', '${size}')"></i>
                                </span>
                            `).join('')}
                        </div>
                        <div class="d-flex gap-2">
                            <input type="text" id="newSizeInput" class="form-control" placeholder="Ø¥Ø¶Ø§ÙØ© Ù…Ù‚Ø§Ø³ Ø¬Ø¯ÙŠØ¯">
                            <button class="btn btn-success" onclick="storeDashboard.addAvailableItem('size')">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary w-100" onclick="storeDashboard.saveAvailableSizes()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª
                    </button>
                `;
            }

            renderDiscountSystem() {
                return `
                    <div class="inner-tabs">
                        <button class="inner-tab active" onclick="storeDashboard.switchDiscountTab('quantity')">
                            Ø®ØµÙ… Ø§Ù„ÙƒÙ…ÙŠØ©
                        </button>
                        <button class="inner-tab" onclick="storeDashboard.switchDiscountTab('promotional')">
                            Ø®ØµÙ… ØªØ±ÙˆÙŠØ¬ÙŠ
                        </button>
                    </div>
                    
                    <div id="discountContent">
                        ${this.renderQuantityDiscount()}
                    </div>
                    
                    <button class="btn btn-primary w-100 mt-3" onclick="storeDashboard.saveDiscountSettings()">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙ…
                    </button>
                `;
            }

            renderQuantityDiscount() {
                return `
                    <div class="form-group">
                        <label class="form-label d-flex align-center gap-2">
                            <span>ØªÙØ¹ÙŠÙ„ Ø®ØµÙ… Ø§Ù„ÙƒÙ…ÙŠØ©</span>
                            <label class="switch">
                                <input type="checkbox" ${this.config.DISCOUNTS.enableQuantityDiscount || false}
                                       onchange="storeDashboard.updateDiscountSetting('enableQuantityDiscount', this.checked)">
                                <span class="slider"></span>
                            </label>
                        </label>
                    </div>
                    
                    ${this.config.DISCOUNTS.enableQuantityDiscount ? `
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ÙƒÙ…ÙŠØ©:</label>
                                    <input type="number" class="form-control" 
                                           value="${this.config.DISCOUNTS.minQuantityForDiscount || 2}"
                                           onchange="storeDashboard.updateDiscountSetting('minQuantityForDiscount', this.value)">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group">
                                    <label class="form-label">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ… (Ø¯Ø¬):</label>
                                    <input type="number" class="form-control" 
                                           value="${this.config.DISCOUNTS.discountPerItem || 300}"
                                           onchange="storeDashboard.updateDiscountSetting('discountPerItem', this.value)">
                                </div>
                            </div>
                        </div>
                    ` : ''}
                `;
            }

            switchDiscountTab(tab) {
                const content = document.getElementById('discountContent');
                if (tab === 'quantity') {
                    content.innerHTML = this.renderQuantityDiscount();
                } else {
                    content.innerHTML = this.renderPromotionalDiscount();
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
                document.querySelectorAll('.inner-tab').forEach(t => t.classList.remove('active'));
                event.target.classList.add('active');
            }

            renderPromotionalDiscount() {
                return `
                    <div class="form-group">
                        <label class="form-label d-flex align-center gap-2">
                            <span>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®ØµÙ… Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠ</span>
                            <label class="switch">
                                <input type="checkbox" ${this.config.DISCOUNTS.enablePromotionalDiscount || false}
                                       onchange="storeDashboard.updateDiscountSetting('enablePromotionalDiscount', this.checked)">
                                <span class="slider"></span>
                            </label>
                        </label>
                    </div>
                    
                    ${this.config.DISCOUNTS.enablePromotionalDiscount ? `
                        <div class="form-group">
                            <label class="form-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… (%):</label>
                            <input type="number" class="form-control" 
                                   value="${this.config.DISCOUNTS.promotionalDiscountPercent || 20}"
                                   min="1" max="100"
                                   onchange="storeDashboard.updateDiscountSetting('promotionalDiscountPercent', this.value)">
                        </div>
                    ` : ''}
                `;
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆÙƒÙ†Ø§Øª
            renderTokenManagement() {
                const tokenKeys = Object.keys(this.tokens);
                
                let html = `
                    <div class="card mb-4">
                        <h4 class="mb-3"><i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© ØªÙˆÙƒÙ† Ø¬Ø¯ÙŠØ¯</h4>
                        <div class="row">
                            <div class="col">
                                <input type="text" id="newTokenRepo" class="form-control" value="suift" readonly>
                            </div>
                            <div class="col">
                                <input type="password" id="newTokenValue" class="form-control" placeholder="ØªÙˆÙƒÙ† GitHub">
                            </div>
                            <div class="col">
                                <input type="text" id="newTokenUsername" class="form-control" value="dz-one" readonly>
                            </div>
                            <div class="col">
                                <button class="btn btn-primary w-100" onclick="storeDashboard.addNewToken()">
                                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ©
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                if (tokenKeys.length === 0) {
                    html += '<div class="alert alert-info text-center">Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ ØªÙˆÙƒÙ†Ø§Øª Ø¨Ø¹Ø¯</div>';
                } else {
                    html += '<div class="row">';
                    tokenKeys.forEach(repo => {
                        const token = this.tokens[repo];
                        const isDefault = repo === this.getDefaultRepo();
                        
                        html += `
                            <div class="col">
                                <div class="card p-3">
                                    <div class="d-flex justify-between align-center">
                                        <div>
                                            <strong>${repo} ${isDefault ? 'â­' : ''}</strong>
                                            <div class="text-muted small">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${token.username}</div>
                                        </div>
                                        <div class="d-flex gap-2">
                                            ${!isDefault ? `
                                                <button class="btn btn-success btn-sm" onclick="storeDashboard.setDefaultRepo('${repo}')">
                                                    <i class="fas fa-star"></i>
                                                </button>
                                            ` : ''}
                                            <button class="btn btn-danger btn-sm" onclick="storeDashboard.deleteToken('${repo}')">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    html += '</div>';
                }
                
                return html;
            }

            addNewToken() {
                const repo = document.getElementById('newTokenRepo')?.value.trim();
                const token = document.getElementById('newTokenValue')?.value.trim();
                const username = document.getElementById('newTokenUsername')?.value.trim();
                
                if (!repo || !token || !username) {
                    this.showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
                    return;
                }
                
                // Ù…Ù†Ø¹ Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† ØªÙˆÙƒÙ† ÙˆØ§Ø­Ø¯
                const existingTokens = Object.keys(this.tokens);
                if (existingTokens.length >= 1) {
                    this.showNotification('ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† ØªÙˆÙƒÙ† ÙˆØ§Ø­Ø¯', 'error');
                    return;
                }
                
                this.tokens[repo] = {
                    token: token,
                    username: username,
                    branch: 'main',
                    defaultFolder: 'images'
                };
                
                localStorage.setItem('github_tokens', JSON.stringify(this.tokens));
                this.setDefaultRepo(repo);
                
                // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
                document.getElementById('newTokenValue').value = '';
                
                this.loadTokensTab();
                this.updateCurrentRepoDisplay();
                this.showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø¬Ø§Ø­', 'success');
                this.updateStats();
            }

            setDefaultRepo(repo) {
                if (this.tokens[repo]) {
                    localStorage.setItem('default_repo', repo);
                    this.updateCurrentRepoDisplay();
                    this.showNotification(`ØªÙ… ØªØ¹ÙŠÙŠÙ† ${repo} ÙƒÙ…Ø³ØªÙˆØ¯Ø¹ Ù†Ø´Ø·`, 'success');
                }
            }

            deleteToken(repo) {
                this.showConfirmModal(
                    `Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ØªÙˆÙƒÙ† ${repo}ØŸ`,
                    () => {
                        delete this.tokens[repo];
                        localStorage.setItem('github_tokens', JSON.stringify(this.tokens));
                        
                        if (repo === localStorage.getItem('default_repo')) {
                            localStorage.removeItem('default_repo');
                        }
                        
                        this.loadTokensTab();
                        this.updateCurrentRepoDisplay();
                        this.showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙˆÙƒÙ†', 'success');
                        this.updateStats();
                    }
                );
            }

            getDefaultRepo() {
                this.tokens = JSON.parse(localStorage.getItem('github_tokens') || '{}');
                let currentDefaultRepo = localStorage.getItem('default_repo') || '';
                
                if (currentDefaultRepo && this.tokens[currentDefaultRepo]) {
                    return currentDefaultRepo;
                }
                
                const availableRepos = Object.keys(this.tokens);
                if (availableRepos.length > 0) {
                    const newDefault = availableRepos[0];
                    localStorage.setItem('default_repo', newDefault);
                    return newDefault;
                }
                
                return null;
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù†
            renderSecurityManagement() {
                return `
                    <div class="form-group">
                        <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                        <input type="password" id="currentPassword" class="form-control" 
                               placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                        <input type="password" id="newPassword" class="form-control" 
                               placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                        <input type="password" id="confirmPassword" class="form-control" 
                               placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                    </div>
                    
                    <button class="btn btn-primary w-100" onclick="storeDashboard.changeAdminPassword()">
                        <i class="fas fa-key"></i> ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </button>
                    
                    <div class="alert alert-warning mt-4">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù‡ÙŠ <code>4*45D6A8</code>
                    </div>
                `;
            }

            changeAdminPassword() {
                const currentPassword = document.getElementById('currentPassword')?.value;
                const newPassword = document.getElementById('newPassword')?.value;
                const confirmPassword = document.getElementById('confirmPassword')?.value;
                const savedPassword = localStorage.getItem('adminPassword') || '4*45D6A8';
                
                if (!currentPassword || !newPassword || !confirmPassword) {
                    this.showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
                    return;
                }
                
                if (currentPassword !== savedPassword) {
                    this.showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
                    return;
                }
                
                if (newPassword !== confirmPassword) {
                    this.showNotification('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©', 'error');
                    return;
                }
                
                if (newPassword.length < 4) {
                    this.showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ 4 Ø£Ø­Ø±Ù', 'error');
                    return;
                }
                
                localStorage.setItem('adminPassword', newPassword);
                
                // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
                ['currentPassword', 'newPassword', 'confirmPassword'].forEach(id => {
                    const el = document.getElementById(id);
                    if (el) el.value = '';
                });
                
                this.showNotification('ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }

            // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«
            updateStoreInfo(field, value) {
                if (field === 'phoneNumbers') {
                    this.config.STORE_INFO[field] = value.split(',').map(p => p.trim());
                } else {
                    this.config.STORE_INFO[field] = value;
                }
            }

            updateSocialMedia(field, value) {
                this.config.STORE_INFO[field] = value;
            }

            updateGoogleSheets(field, value) {
                this.config.GOOGLE_SHEETS[field] = field === 'autoUpdate' ? value : value;
            }

            updateDiscountSetting(field, value) {
                this.config.DISCOUNTS[field] = field.includes('enable') || field.includes('auto') ? value : 
                                             field.includes('Percent') || field.includes('Quantity') ? parseInt(value) : value;
            }

            addAvailableItem(type) {
                const inputId = type === 'color' ? 'newColorInput' : 'newSizeInput';
                const value = document.getElementById(inputId)?.value.trim();
                
                if (!value) {
                    this.showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø©', 'error');
                    return;
                }
                
                const arrayName = type === 'color' ? 'AVAILABLE_COLORS' : 'AVAILABLE_SIZES';
                if (this.config[arrayName].includes(value)) {
                    this.showNotification('Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹', 'error');
                    return;
                }
                
                this.config[arrayName].push(value);
                document.getElementById(inputId).value = '';
                this.showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${type === 'color' ? 'Ù„ÙˆÙ†' : 'Ù…Ù‚Ø§Ø³'} Ø¬Ø¯ÙŠØ¯`, 'success');
            }

            removeAvailableItem(type, value) {
                const arrayName = type === 'color' ? 'AVAILABLE_COLORS' : 'AVAILABLE_SIZES';
                this.config[arrayName] = this.config[arrayName].filter(item => item !== value);
                this.showNotification(`ØªÙ… Ø­Ø°Ù ${type === 'color' ? 'Ø§Ù„Ù„ÙˆÙ†' : 'Ø§Ù„Ù…Ù‚Ø§Ø³'}`, 'success');
            }

            // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø­ÙØ¸
            saveStoreInfo() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±', 'success');
            }

            saveSocialMedia() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„', 'success');
            }

            saveGoogleSheets() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¬ÙˆØ¬Ù„ Ø´ÙŠØªØ³', 'success');
            }

            saveSizeGuide() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª', 'success');
            }

            saveAvailableColors() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø£Ù„ÙˆØ§Ù†', 'success');
            }

            saveAvailableSizes() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª', 'success');
            }

            saveDiscountSettings() {
                this.saveConfig();
                this.showNotification('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙ…', 'success');
            }

            toggleSizeGuide(enabled) {
                if (!enabled) {
                    delete this.config.SIZE_GUIDE;
                } else {
                    this.config.SIZE_GUIDE = this.config.SIZE_GUIDE || {
                        "XS": { heightFrom: 150, heightTo: 160, weightFrom: 40, weightTo: 55, enabled: true },
                        "S": { heightFrom: 160, heightTo: 175, weightFrom: 50, weightTo: 65, enabled: true },
                        "M": { heightFrom: 170, heightTo: 180, weightFrom: 65, weightTo: 80, enabled: true },
                        "L": { heightFrom: 180, heightTo: 195, weightFrom: 70, weightTo: 90, enabled: true },
                        "XL": { heightFrom: 185, heightTo: 200, weightFrom: 85, weightTo: 110, enabled: true }
                    };
                }
            }

            // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            loadStoreInfo() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadSocialMedia() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadGoogleSheetsSettings() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadAvailableColors() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadAvailableSizes() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadTokensList() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadStoreLogo() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadFreeDeliverySettings() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadSizeGuide() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadDiscountSettings() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadProductsManagement() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            loadWilayasGrid() {
                // Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            }

            // Ù†Ø¸Ø§Ù… GitHub
            async quickSaveAllSettings() {
                const repo = this.getDefaultRepo();
                if (!repo) {
                    this.showNotification('Ù„Ù… ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ù…Ø³ØªÙˆØ¯Ø¹ Ø§ÙØªØ±Ø§Ø¶ÙŠ', 'error');
                    this.switchTab('tokens');
                    return;
                }

                const tokenConfig = this.tokens[repo];
                if (!tokenConfig) {
                    this.showNotification('Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                    return;
                }

                this.saveConfig();
                localStorage.setItem('lastUpdate', new Date().toISOString());
                this.updateStats();
                
                const syncStatus = document.getElementById('syncStatus');
                try {
                    syncStatus.textContent = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ GitHub...';
                    syncStatus.classList.remove('hidden');
                    
                    await this.saveToGitHub(this.config, tokenConfig, repo);
                    
                    syncStatus.textContent = 'âœ… ØªÙ… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­!';
                    syncStatus.className = 'alert alert-success';
                    
                    this.showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù„Ù‰ GitHub', 'success');
                    
                } catch (error) {
                    syncStatus.textContent = 'âŒ ÙØ´Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©: ' + error.message;
                    syncStatus.className = 'alert alert-danger';
                    this.showNotification('ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸ Ø¹Ù„Ù‰ GitHub: ' + error.message, 'warning');
                }
            }

            async saveToGitHub(config, tokenConfig, repo) {
                try {
                    if (!tokenConfig?.token || !tokenConfig?.username || !repo) {
                        throw new Error('Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª GitHub ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©');
                    }

                    const configContent = `const STORE_CONFIG = ${JSON.stringify(config, null, 2)};`;
                    const content = btoa(unescape(encodeURIComponent(configContent)));
                    const branch = tokenConfig.branch || 'main';
                    
                    let sha = '';
                    try {
                        const response = await fetch(
                            `https://api.github.com/repos/${tokenConfig.username}/${repo}/contents/config.js`,
                            {
                                headers: {
                                    'Authorization': `token ${tokenConfig.token}`,
                                    'Accept': 'application/vnd.github.v3+json'
                                }
                            }
                        );
                        
                        if (response.ok) {
                            const fileData = await response.json();
                            sha = fileData.sha;
                        }
                    } catch (error) {
                        console.log('Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯');
                    }

                    const response = await fetch(
                        `https://api.github.com/repos/${tokenConfig.username}/${repo}/contents/config.js`,
                        {
                            method: 'PUT',
                            headers: {
                                'Authorization': `token ${tokenConfig.token}`,
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                message: 'ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± - ' + new Date().toLocaleString('fr-FR'),
                                content: content,
                                sha: sha,
                                branch: branch
                            })
                        }
                    );

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.message || 'ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø­ÙØ¸ Ø¹Ù„Ù‰ GitHub');
                    }

                    return await response.json();
                } catch (error) {
                    console.error('Error saving to GitHub:', error);
                    throw error;
                }
            }

            async quickLoadFromGitHub() {
                const repo = this.getDefaultRepo();
                if (!repo) {
                    this.showNotification('Ù„Ù… ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ù…Ø³ØªÙˆØ¯Ø¹ Ø§ÙØªØ±Ø§Ø¶ÙŠ', 'error');
                    this.switchTab('tokens');
                    return;
                }

                const tokenConfig = this.tokens[repo];
                if (!tokenConfig) {
                    this.showNotification('Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                    return;
                }

                try {
                    const syncStatus = document.getElementById('syncStatus');
                    syncStatus.textContent = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† GitHub...';
                    syncStatus.classList.remove('hidden');
                    
                    const success = await this.loadRemoteConfigWithToken(tokenConfig, repo);
                    if (success) {
                        syncStatus.textContent = 'âœ… ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!';
                        syncStatus.className = 'alert alert-success';
                        this.showNotification('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† GitHub', 'success');
                    } else {
                        syncStatus.textContent = 'âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† GitHub';
                        syncStatus.className = 'alert alert-danger';
                        this.showNotification('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† GitHub', 'error');
                    }
                } catch (error) {
                    this.showNotification('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª: ' + error.message, 'error');
                }
            }

            async loadRemoteConfigWithToken(tokenConfig, repo) {
                try {
                    const configUrl = `https://raw.githubusercontent.com/${tokenConfig.username}/${repo}/${tokenConfig.branch || 'main'}/config.js?t=${Date.now()}`;
                    const response = await fetch(configUrl);
                    
                    if (response.ok) {
                        const configContent = await response.text();
                        const configMatch = configContent.match(/const STORE_CONFIG = ({[\s\S]*?});/);
                        
                        if (configMatch && configMatch[1]) {
                            const remoteConfig = JSON.parse(configMatch[1]);
                            this.config = { ...this.config, ...remoteConfig };
                            this.saveConfig();
                            
                            window.dispatchEvent(new CustomEvent('configUpdated', { detail: this.config }));
                            return true;
                        }
                    }
                } catch (error) {
                    console.log('Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø®Ø·Ø£:', error);
                }
                return false;
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµØ¯ÙŠØ± ÙˆØ§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯
            exportSettings() {
                const dataStr = JSON.stringify(this.config, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = 'store-config.json';
                link.click();
                this.showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', 'success');
            }

            importSettings(input) {
                const file = input.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const importedConfig = JSON.parse(e.target.result);
                            this.config = { ...this.config, ...importedConfig };
                            this.saveConfig();
                            this.loadSettings();
                            this.showNotification('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
                        } catch (error) {
                            this.showNotification('Ø®Ø·Ø£ ÙÙŠ Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', 'error');
                        }
                    };
                    reader.readAsText(file);
                }
                input.value = '';
            }

            resetSettings() {
                this.showConfirmModal(
                    'âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŸ',
                    () => {
                        localStorage.removeItem('storeConfig');
                        this.config = {
                            PRODUCTS: {},
                            DELIVERY_PRICES: {},
                            FREE_DELIVERY: {
                                desk: { enabled: false, minQuantity: null, wilayas: [] },
                                home: { enabled: false, minQuantity: null, wilayas: [] },
                                freeDeliveryProducts: []
                            },
                            DISCOUNTS: {
                                enableQuantityDiscount: false,
                                minQuantityForDiscount: 2,
                                discountPerItem: 300,
                                discountScope: 'all',
                                discountProducts: [],
                                enablePromotionalDiscount: false,
                                promotionalDiscountPercent: 20,
                                promotionalDiscountedPrice: 0,
                                promoDiscountScope: 'all',
                                promoDiscountProducts: []
                            },
                            STORE_INFO: {
                                name: "Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø·ÙØ§Ù„",
                                storeIcon: "ğŸ‘‘",
                                storeTitle: "ğŸ‘‘ Ø£Ø­Ø¯Ø« Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„",
                                tagline: "Ù…ØªØ¬Ø± Ø£ÙØ®Ù… Ø§Ù„Ù…Ù„Ø§Ø¨Ø³",
                                phoneNumbers: ["0671466489", "0551102155"],
                                logo: "",
                                facebookUrl: "",
                                instagramUrl: "",
                                messengerUrl: "",
                                viberNumber: "",
                                whatsappNumber: "",
                                whatsappUrl: ""
                            },
                            GOOGLE_SHEETS: {
                                url: "",
                                description: "",
                                autoUpdate: false
                            },
                            AVAILABLE_COLORS: ["Ø£Ø¨ÙŠØ¶", "Ø£Ø³ÙˆØ¯", "Ø£Ø­Ù…Ø±", "Ø£Ø²Ø±Ù‚"],
                            AVAILABLE_SIZES: ["S", "M", "L", "XL", "XXL", "A"],
                            SIZE_GUIDE: {
                                "XS": { heightFrom: 150, heightTo: 160, weightFrom: 40, weightTo: 55, enabled: true },
                                "S": { heightFrom: 160, heightTo: 175, weightFrom: 50, weightTo: 65, enabled: true },
                                "M": { heightFrom: 170, heightTo: 180, weightFrom: 65, weightTo: 80, enabled: true },
                                "L": { heightFrom: 180, heightTo: 195, weightFrom: 70, weightTo: 90, enabled: true },
                                "XL": { heightFrom: 185, heightTo: 200, weightFrom: 85, weightTo: 110, enabled: true }
                            }
                        };
                        this.saveConfig();
                        this.loadSettings();
                        this.showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­', 'success');
                    }
                );
            }

            goToStore() {
                window.location.href = 'index.html';
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer') || this.createNotificationContainer();
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <i class="fas ${this.getNotificationIcon(type)}"></i>
                    <span>${message}</span>
                `;
                
                container.appendChild(notification);
                setTimeout(() => notification.classList.add('show'), 10);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }

            getNotificationIcon(type) {
                const icons = {
                    success: 'fa-check-circle',
                    error: 'fa-exclamation-circle',
                    warning: 'fa-exclamation-triangle',
                    info: 'fa-info-circle'
                };
                return icons[type] || 'fa-info-circle';
            }

            createNotificationContainer() {
                const container = document.createElement('div');
                container.id = 'notificationContainer';
                document.body.appendChild(container);
                return container;
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ¯Ø§Ù„Ø§Øª
            showConfirmModal(message, confirmCallback) {
                const container = document.getElementById('modalContainer') || this.createModalContainer();
                const modal = document.createElement('div');
                modal.className = 'modal';
                modal.innerHTML = `
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title"><i class="fas fa-exclamation-triangle"></i> ØªØ£ÙƒÙŠØ¯</h3>
                            <button class="modal-close" onclick="this.closest('.modal').remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <p>${message}</p>
                        <div class="d-flex gap-2 mt-4">
                            <button class="btn btn-danger flex-1" onclick="storeDashboard.executeConfirmCallback('${btoa(JSON.stringify(confirmCallback))}', this)">
                                <i class="fas fa-check"></i> Ù†Ø¹Ù…
                            </button>
                            <button class="btn btn-secondary flex-1" onclick="this.closest('.modal').remove()">
                                <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                            </button>
                        </div>
                    </div>
                `;
                
                container.appendChild(modal);
                
                // ØªØ®Ø²ÙŠÙ† callback
                this.pendingCallback = confirmCallback;
            }

            executeConfirmCallback(callbackBase64, button) {
                try {
                    const callbackStr = atob(callbackBase64);
                    const callback = eval(`(${callbackStr})`);
                    callback();
                    
                    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
                    const modal = button.closest('.modal');
                    if (modal) modal.remove();
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªÙ†ÙÙŠØ° callback:', error);
                }
            }

            createModalContainer() {
                const container = document.createElement('div');
                container.id = 'modalContainer';
                document.body.appendChild(container);
                return container;
            }

            // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateStats() {
                const actualTokens = JSON.parse(localStorage.getItem('github_tokens') || '{}');
                const actualTokenCount = Object.keys(actualTokens).length;
                
                const updateElement = (id, value) => {
                    const el = document.getElementById(id);
                    if (el) el.textContent = value;
                };
                
                updateElement('productsCount', Object.keys(this.config.PRODUCTS).length);
                updateElement('wilayasCount', Object.keys(this.config.DELIVERY_PRICES).length);
                updateElement('tokensCount', actualTokenCount);
                updateElement('lastUpdate', this.formatFrenchDate(localStorage.getItem('lastUpdate')));
            }

            updateCurrentRepoDisplay() {
                const repoNameElement = document.getElementById('currentRepoName');
                const currentRepo = this.getDefaultRepo();
                
                if (currentRepo && this.tokens[currentRepo]) {
                    repoNameElement.textContent = currentRepo;
                } else {
                    repoNameElement.textContent = 'Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆØ¯Ø¹';
                }
            }

            formatFrenchDate(dateString) {
                if (!dateString) return '-';
                const date = new Date(dateString);
                if (isNaN(date.getTime())) return '-';
                
                const day = date.getDate().toString().padStart(2, '0');
                const month = (date.getMonth() + 1).toString().padStart(2, '0');
                const year = date.getFullYear();
                const hours = date.getHours().toString().padStart(2, '0');
                const minutes = date.getMinutes().toString().padStart(2, '0');
                
                return `<span class="french-numbers">${day}/${month}/${year} ${hours}:${minutes}</span>`;
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        let storeDashboard;

        document.addEventListener('DOMContentLoaded', function() {
            storeDashboard = new StoreDashboard();
            
            // Ø¬Ø¹Ù„ Ø§Ù„Ù…ØªØºÙŠØ± Ù…ØªØ§Ø­Ø§Ù‹ globally Ù„Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ onclick
            window.storeDashboard = storeDashboard;
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 's') {
                    e.preventDefault();
                    storeDashboard.quickSaveAllSettings();
                }
                if (e.ctrlKey && e.key === 'l') {
                    e.preventDefault();
                    storeDashboard.quickLoadFromGitHub();
                }
                if (e.key === 'Escape') {
                    const modals = document.querySelectorAll('.modal');
                    modals.forEach(modal => modal.remove());
                }
            });
        });

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„ÙˆØµÙˆÙ„ Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function checkAdminPassword() { storeDashboard?.checkAdminPassword(); }
        function switchTab(tab) { storeDashboard?.switchTab(tab); }
        function logout() { storeDashboard?.logout(); }
        function setTheme(theme) { storeDashboard?.setTheme(theme); }
    </script>
</body>
</html>
