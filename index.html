<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø·ÙØ§Ù„ - ğŸ‘‘</title>
    <meta property="og:title" id="ogTitle" content="Ù…ØªØ¬Ø± Ø§Ù„Ø£Ø·ÙØ§Ù„ - Ø£Ø¬Ù…Ù„ Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
    <script src="config.js"></script>
    <style>
        /* ===== Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª ===== */
        :root {
            --primary: #2c3e50;
            --primary-light: #34495e;
            --secondary: #7f8c8d;
            --accent: #3498db;
            --accent-light: #5dade2;
            --accent-dark: #2980b9;
            --success: #27ae60;
            --success-light: #2ecc71;
            --warning: #f39c12;
            --warning-light: #f1c40f;
            --danger: #e74c3c;
            --danger-light: #e74c3c;
            --light: #f8f9fa;
            --lighter: #ffffff;
            --dark: #2c3e50;
            --dark-light: #34495e;
            --black: #000000;
            --gray: #95a5a6;
            --gray-light: #ecf0f1;
            --gray-lighter: #f8f9fa;
            --border: #e0e0e0;
            --border-light: #f1f1f1;
            --radius: 8px;
            --radius-lg: 12px;
            --radius-sm: 6px;
            --shadow: 0 2px 12px rgba(0,0,0,0.08);
            --shadow-light: 0 1px 6px rgba(0,0,0,0.05);
            --shadow-medium: 0 4px 16px rgba(0,0,0,0.1);
            --shadow-heavy: 0 8px 24px rgba(0,0,0,0.12);
            --shadow-hover: 0 6px 20px rgba(0,0,0,0.15);
            --transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --transition-fast: all 0.2s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: "Cairo", sans-serif;
            direction: rtl;
            background-color: var(--lighter);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            font-size: 14px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* ===== Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø­Ø³Ù‘Ù† ===== */
        header {
            background-color: var(--lighter);
            padding: 0.8rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-light);
            border-bottom: 1px solid var(--border-light);
            backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.95);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 0.5rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            color: var(--primary);
            font-weight: 900;
            font-size: 1.2rem;
            text-decoration: none;
            transition: var(--transition);
        }

        .logo:hover {
            color: var(--accent);
        }

        .store-logo-small {
            width: auto;
            height: 42px;
            border-radius: var(--radius-sm);
            object-fit: contain;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            border: 2px solid var(--accent);
            padding: 3px;
            background-color: white;
        }

        /* ===== Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø© ===== */
        .cart-summary {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            color: white;
            text-decoration: none;
            transition: var(--transition);
            font-weight: 800;
            font-size: 0.9rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .cart-summary::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--accent-dark) 0%, var(--accent) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .cart-summary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .cart-summary:hover::before {
            opacity: 1;
        }

        .cart-summary > * {
            position: relative;
            z-index: 1;
        }

        .cart-icon {
            position: relative;
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            left: -8px;
            background-color: var(--danger);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 900;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 2px solid white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* ===== Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ===== */
        .page-hero {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 2rem 0 1rem 0;
            border-bottom: 1px solid var(--border-light);
            margin-bottom: 2rem;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow);
        }

        .store-logo {
            width: 100%;
            max-width: 400px;
            height: 110px;
            object-fit: contain;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }

        .hero-content {
            text-align: center;
            padding: 0 1rem;
        }

        .main-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .main-subtitle {
            font-size: 1rem;
            color: var(--secondary);
            margin-bottom: 1.5rem;
            max-width: 600px;
            margin: 0 auto 1.5rem;
            line-height: 1.6;
        }

        /* ===== Ø´Ø±ÙŠØ· Ø§Ù„ÙØ¦Ø§Øª ÙˆØ§Ù„Ø£Ù‚Ø³Ø§Ù… ===== */
        .categories-section {
            background: white;
            padding: 1rem;
            border-radius: var(--radius);
            margin-bottom: 2rem;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-light);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--gray-lighter);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }

        .section-title i {
            color: var(--accent);
        }

        .categories-filter {
            display: flex;
            gap: 0.6rem;
            overflow-x: auto;
            padding: 0.5rem;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .categories-filter::-webkit-scrollbar {
            display: none;
        }

        .category-btn {
            flex-shrink: 0;
            padding: 0.6rem 1.2rem;
            border: 2px solid var(--border);
            background-color: white;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 700;
            font-size: 0.85rem;
            white-space: nowrap;
            color: var(--dark);
        }

        .category-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
            transform: translateY(-1px);
        }

        .category-btn.active {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            color: white;
            border-color: var(--accent);
            box-shadow: var(--shadow);
        }

        /* ===== Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© ===== */
        .products-section {
            padding: 1rem 0 3rem 0;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.8rem;
            margin-bottom: 3rem;
        }

        @media (max-width: 992px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-card {
            background-color: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border-light);
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .product-card:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-5px);
            border-color: var(--accent);
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙˆØ±Ø© */
        .product-image-container {
            position: relative;
            width: 100%;
            padding-bottom: 100%;
            overflow: hidden;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            cursor: pointer;
        }

        .product-image {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 20px;
            transition: var(--transition);
        }

        .product-card:hover .product-image {
            transform: scale(1.08);
        }

        /* Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-badges {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            z-index: 10;
        }

        .badge {
            padding: 0.3rem 0.7rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            white-space: nowrap;
            animation: float 3s ease-in-out infinite;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        .badge-discount {
            background: linear-gradient(135deg, var(--danger) 0%, #c0392b 100%);
            color: white;
        }

        .badge-free-delivery {
            background: linear-gradient(135deg, var(--success) 0%, #219653 100%);
            color: white;
        }

        .badge-new {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            color: white;
        }

        .badge-bestseller {
            background: linear-gradient(135deg, var(--warning) 0%, #e67e22 100%);
            color: white;
        }

        /* Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø±ÙŠØ¹ */
        .quick-add-btn {
            position: absolute;
            bottom: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            z-index: 10;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
        }

        .product-card:hover .quick-add-btn {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .quick-add-btn:hover {
            transform: scale(1.15) !important;
            box-shadow: var(--shadow-heavy);
        }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-info {
            padding: 1.2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-name {
            font-size: 0.95rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 0.6rem;
            line-height: 1.4;
            height: 2.8em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            transition: var(--transition-fast);
        }

        .product-card:hover .product-name {
            color: var(--accent);
        }

        .product-description {
            color: var(--secondary);
            font-size: 0.8rem;
            margin-bottom: 0.8rem;
            line-height: 1.5;
            height: 3em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        /* Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
        .color-preview {
            display: flex;
            gap: 0.4rem;
            margin: 0.8rem 0;
            flex-wrap: wrap;
        }

        .color-dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            transition: var(--transition-fast);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .color-dot:hover {
            transform: scale(1.3);
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }

        /* Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-price {
            margin-top: auto;
            padding-top: 0.8rem;
            border-top: 1px dashed var(--border-light);
        }

        .price-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
        }

        .original-price {
            color: var(--gray);
            text-decoration: line-through;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .discounted-price {
            font-size: 1.2rem;
            font-weight: 900;
            color: var(--danger);
            line-height: 1;
        }

        .price-unit {
            font-size: 0.75rem;
            color: var(--secondary);
            font-weight: 500;
        }

        .savings-badge {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--danger);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 800;
            display: inline-block;
        }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .product-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px dashed var(--border-light);
            font-size: 0.75rem;
            color: var(--secondary);
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .stars {
            color: #ffc107;
            font-size: 0.8rem;
        }

        .product-sizes {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        /* ===== Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© ===== */
        .special-offers {
            background: linear-gradient(135deg, #fff8e1 0%, #fff 100%);
            padding: 2rem;
            border-radius: var(--radius-lg);
            margin: 3rem 0;
            border: 2px dashed var(--warning);
            position: relative;
            overflow: hidden;
        }

        .special-offers::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23f39c12' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .special-offers .section-title {
            color: var(--warning);
        }

        .offers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .offer-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--radius);
            border: 1px solid var(--warning-light);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: var(--transition);
        }

        .offer-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .offer-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--warning) 0%, #e67e22 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .offer-content h4 {
            font-weight: 800;
            margin-bottom: 0.3rem;
            color: var(--dark);
        }

        .offer-content p {
            font-size: 0.85rem;
            color: var(--secondary);
            line-height: 1.5;
        }

        /* ===== ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ ===== */
        .social-media-section {
            background: white;
            padding: 2rem;
            border-radius: var(--radius);
            margin: 2rem 0;
            box-shadow: var(--shadow-light);
            border: 1px solid var(--border-light);
        }

        .social-media {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .social-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            transition: var(--transition);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .social-icon::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.1);
            transform: translateX(-100%);
            transition: var(--transition);
        }

        .social-icon:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .social-icon:hover::before {
            transform: translateX(0);
        }

        .whatsapp { background: linear-gradient(135deg, #25D366 0%, #1DA851 100%); }
        .facebook { background: linear-gradient(135deg, #3b5998 0%, #2d4373 100%); }
        .instagram { background: linear-gradient(135deg, #E1306C 0%, #C13584 100%); }
        .messenger { background: linear-gradient(135deg, #0084FF 0%, #0066CC 100%); }
        .viber { background: linear-gradient(135deg, #7360F2 0%, #5B4FCC 100%); }

        /* ===== Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ ===== */
        .contact-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 2.5rem;
            border-radius: var(--radius-lg);
            margin: 2rem 0 3rem 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .contact-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233498db' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .contact-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .contact-header h3 {
            font-size: 1.4rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
        }

        .contact-header p {
            color: var(--secondary);
            font-size: 0.95rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .contact-numbers {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .contact-number {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            background: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 800;
            border: 2px solid var(--border-light);
            font-size: 0.9rem;
            transition: var(--transition);
            box-shadow: var(--shadow-light);
        }

        .contact-number:hover {
            border-color: var(--accent);
            color: var(--accent);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .contact-number i {
            color: var(--accent);
            font-size: 1rem;
        }

        .working-hours {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px dashed var(--border);
            color: var(--secondary);
            font-size: 0.85rem;
        }

        /* ===== Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù†ØªØ¬Ø§Øª ===== */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: var(--radius);
            border: 2px dashed var(--border);
            margin: 2rem 0;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            color: var(--gray-light);
            opacity: 0.5;
        }

        .empty-state h3 {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 0.8rem;
        }

        .empty-state p {
            color: var(--secondary);
            max-width: 400px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* ===== Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ===== */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow-heavy);
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-weight: 800;
            max-width: 90%;
            animation: slideDown 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-right: 4px solid var(--accent);
        }

        @keyframes slideDown {
            from {
                transform: translateX(-50%) translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }

        /* ===== Ø£Ø²Ø±Ø§Ø± Ø¹Ø§Ù…Ø© ===== */
        .btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            font-family: "Cairo", sans-serif;
            font-weight: 800;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .btn-secondary {
            background-color: var(--light);
            color: var(--dark);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background-color: var(--border);
        }

        /* ===== ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© ===== */
        @media (max-width: 768px) {
            .container {
                padding: 0 0.8rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 0.8rem;
                padding: 0;
            }
            
            .logo {
                font-size: 1rem;
            }
            
            .main-title {
                font-size: 1.5rem;
            }
            
            .main-subtitle {
                font-size: 0.9rem;
            }
            
            .store-logo {
                max-width: 300px;
                height: 90px;
            }
            
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
            
            .special-offers {
                padding: 1.5rem;
            }
            
            .offers-grid {
                grid-template-columns: 1fr;
            }
            
            .contact-section {
                padding: 1.5rem;
            }
            
            .contact-number {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .category-btn {
                padding: 0.5rem 0.8rem;
                font-size: 0.8rem;
            }
            
            .social-icon {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .empty-state {
                padding: 3rem 1rem;
            }
            
            .notification {
                font-size: 0.9rem;
                padding: 0.8rem 1rem;
            }
        }

        /* ===== Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© - ØªÙ… Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ØµÙ„ÙŠ Ù…Ø¹ ØªØ­Ø³ÙŠÙ†Ø§Øª ===== */
        .page {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== Ø§Ù„ÙÙˆØªØ± ===== */
        footer {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 2.5rem 0;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-weight: 900;
            font-size: 1.2rem;
        }

        .footer-social {
            display: flex;
            gap: 1rem;
        }

        .footer-social a {
            color: white;
            font-size: 1.1rem;
            opacity: 0.9;
            transition: var(--transition);
        }

        .footer-social a:hover {
            opacity: 1;
            transform: translateY(-2px);
        }

        .copyright {
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø­Ø³Ù‘Ù† -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo page-nav" data-page="page1">
                    <img src="" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±" class="store-logo-small" id="storeLogoHeader" style="display: none;">
                    <span id="storeNameHeader"></span>
                </a>
                
                <a href="#page2" class="cart-summary page-nav" data-page="page2">
                    <div class="cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-badge" id="cartBadge">0</span>
                    </div>
                    <span id="cartTotalPrice">0 Ø¯Ø¬</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø­Ø³Ù‘Ù† -->
    <div id="page1" class="page active">
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ -->
        <section class="page-hero">
            <div class="container">
                <div class="logo-container">
                    <img src="" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±" class="store-logo" id="storeLogoMain" style="display: none;">
                </div>
                
                <div class="hero-content">
                    <h1 class="main-title" id="storeTitleHeader">
                        <i class="fas fa-crown"></i>
                        <span id="storeTitleText">Ø£Ø¬Ù…Ù„ Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„</span>
                    </h1>
                    
                    <p class="main-subtitle" id="storeDescription">
                        Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ø£Ø­Ø¯Ø« ØªØ´ÙƒÙŠÙ„Ø© Ù…Ù† Ù…Ù„Ø§Ø¨Ø³ ÙˆØ£Ø­Ø°ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©
                    </p>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… ØªØµÙÙŠØ© Ø§Ù„ÙØ¦Ø§Øª -->
        <section class="categories-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-filter"></i>
                        ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
                    </h2>
                </div>
                
                <div class="categories-filter" id="categoriesFilter">
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ¦Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <section class="products-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-box-open"></i>
                        Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©
                    </h2>
                    <span class="products-count" id="productsCount">0 Ù…Ù†ØªØ¬</span>
                </div>
                
                <div class="products-grid" id="modelsGrid">
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ -->
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ© -->
        <section class="special-offers">
            <div class="container">
                <h2 class="section-title">
                    <i class="fas fa-gift"></i>
                    Ø¹Ø±ÙˆØ¶ ÙˆØªØ®ÙÙŠØ¶Ø§Øª Ø®Ø§ØµØ©
                </h2>
                
                <div class="offers-grid">
                    <div class="offer-card">
                        <div class="offer-icon">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="offer-content">
                            <h4>ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ</h4>
                            <p>Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ù‚ÙŠÙ…Ø© 5000 Ø¯Ø¬ ÙØ£ÙƒØ«Ø± - ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª</p>
                        </div>
                    </div>
                    
                    <div class="offer-card">
                        <div class="offer-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="offer-content">
                            <h4>Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„ÙƒÙ…ÙŠØ©</h4>
                            <p>Ø®ØµÙ… Ø¥Ø¶Ø§ÙÙŠ Ø¹Ù†Ø¯ Ø´Ø±Ø§Ø¡ 3 Ù‚Ø·Ø¹ Ø£Ùˆ Ø£ÙƒØ«Ø± Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù…Ù†ØªØ¬</p>
                        </div>
                    </div>
                    
                    <div class="offer-card">
                        <div class="offer-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="offer-content">
                            <h4>Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©</h4>
                            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© ÙˆØ°Ø§Øª Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ -->
        <section class="social-media-section">
            <div class="container">
                <h2 class="section-title" style="text-align: center; justify-content: center;">
                    <i class="fas fa-hashtag"></i>
                    ØªØ§Ø¨Ø¹ÙˆÙ†Ø§ Ø¹Ù„Ù‰ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„
                </h2>
                
                <div class="social-media">
                    <a href="#" class="social-icon whatsapp" id="whatsappBtn" target="_blank" style="display: none;">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="#" class="social-icon facebook" id="facebookBtn" target="_blank" style="display: none;">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="social-icon instagram" id="instagramBtn" target="_blank" style="display: none;">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="social-icon messenger" id="messengerBtn" target="_blank" style="display: none;">
                        <i class="fab fa-facebook-messenger"></i>
                    </a>
                    <a href="#" class="social-icon viber" id="viberBtn" target="_blank" style="display: none;">
                        <i class="fab fa-viber"></i>
                    </a>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ -->
        <section class="contact-section">
            <div class="container">
                <div class="contact-header">
                    <h3>
                        <i class="fas fa-headset"></i>
                        Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø± ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª
                    </h3>
                    <p>ÙØ±ÙŠÙ‚ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒÙ… ÙˆØ§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨Ø§ØªÙƒÙ… Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„ÙŠÙˆÙ…</p>
                </div>
                
                <div class="contact-numbers" id="phoneNumbersFirstPage">
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù‡Ù†Ø§ -->
                </div>
                
                <div class="working-hours">
                    <i class="fas fa-clock"></i>
                    <span>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„: ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù…Ù† 9 ØµØ¨Ø§Ø­Ø§Ù‹ Ø­ØªÙ‰ 10 Ù…Ø³Ø§Ø¡Ù‹</span>
                </div>
            </div>
        </section>
    </div>

    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ØµÙ„ÙŠ Ù…Ø¹ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø·ÙÙŠÙØ©) -->
    <div id="page2" class="page">
        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ -->
        <form id="orderForm" class="order-form">
            <!-- ... Ù†ÙØ³ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠ ... -->
        </form>
    </div>

    <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Ù†ÙØ³ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ØµÙ„ÙŠ) -->
    <div class="product-modal" id="productModal">
        <!-- ... Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†ØªØ¬ ... -->
    </div>
    
    <div class="confirmation-modal" id="orderConfirmationModal">
        <!-- ... Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ ... -->
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±" class="store-logo-small" id="storeLogoFooter" style="display: none;">
                    <span id="storeNameFooter"></span>
                </div>
                
                <div class="footer-social">
                    <a href="#" id="facebookFooter" target="_blank">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" id="instagramFooter" target="_blank">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" id="whatsappFooter" target="_blank">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="#" id="messengerFooter" target="_blank">
                        <i class="fab fa-facebook-messenger"></i>
                    </a>
                    <a href="#" id="viberFooter" target="_blank">
                        <i class="fab fa-viber"></i>
                    </a>
                </div>
                
                <div class="copyright">
                    Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© <span id="currentYear"></span> | <span id="storeNameFooterText"></span>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Ø§Ù„ÙƒØ§Ù…Ù„ -->
    <script>
        // ===== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© =====
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwCBtirjrJ26PUtxAmw4s-BogXn6uptD3pZsOcr0shUJcVxwc5NkTZp35hRLagUumMj/exec";
        let cartItems = [];
        let currentProductKey = null;
        let selectedAge = null;
        let selectedColor = null;
        let selectedDeliveryType = null;
        let selectedWilaya = null;
        let currentCategory = 'all';
        let smartPulseInterval = null;

        // ===== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ =====
        function initializeApp() {
            console.log('ğŸš€ Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...');
            initStore();
            setupEventListeners();
            setupPageNavigation();
            updatePrice();
            initCategoriesFilter();
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            setTimeout(() => {
                showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø±Ù†Ø§! ğŸ›ï¸ Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« ØªØ´ÙƒÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„', 'success');
            }, 1000);
        }

        function initStore() {
            loadSavedConfig();
            updateStoreInterface();
            initModelsGallery();
            initContactNumbers();
            initWilayaOptions();
            updateCartDisplay();
            console.log('âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØ¬Ø± Ø¨Ù†Ø¬Ø§Ø­');
        }

        // ===== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ¦Ø§Øª =====
        function initCategoriesFilter() {
            const categoriesContainer = document.getElementById('categoriesFilter');
            if (!categoriesContainer) return;
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ¦Ø§Øª Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            const categories = new Set(['all']);
            
            Object.keys(STORE_CONFIG.PRODUCTS || {}).forEach(key => {
                const product = STORE_CONFIG.PRODUCTS[key];
                if (product.category) {
                    categories.add(product.category);
                }
            });
            
            // Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
            const defaultCategories = ['Ù…Ù„Ø§Ø¨Ø³', 'Ø£Ø­Ø°ÙŠØ©', 'Ø£Ù„Ø¹Ø§Ø¨', 'Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª'];
            defaultCategories.forEach(cat => categories.add(cat));
            
            categoriesContainer.innerHTML = '';
            categories.forEach(category => {
                const btn = document.createElement('button');
                btn.className = `category-btn ${category === 'all' ? 'active' : ''}`;
                btn.textContent = category === 'all' ? 'Ø§Ù„ÙƒÙ„' : category;
                btn.onclick = (e) => {
                    e.stopPropagation();
                    filterProductsByCategory(category);
                };
                categoriesContainer.appendChild(btn);
            });
        }

        function filterProductsByCategory(category) {
            currentCategory = category;
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ¦Ø§Øª
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ØªØµÙÙŠØ© ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            initModelsGallery();
        }

        // ===== Ù…Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù‘Ù† =====
        function initModelsGallery() {
            const grid = document.getElementById('modelsGrid');
            const productsCount = document.getElementById('productsCount');
            
            if (!grid) return;
            
            grid.innerHTML = '';
            
            const products = STORE_CONFIG.PRODUCTS || {};
            let filteredProducts = Object.keys(products);
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
            if (currentCategory !== 'all') {
                filteredProducts = filteredProducts.filter(key => {
                    const product = products[key];
                    return product.category === currentCategory;
                });
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            productsCount.textContent = `${filteredProducts.length} Ù…Ù†ØªØ¬`;
            
            if (filteredProducts.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <i class="fas fa-search"></i>
                        <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©</h3>
                        <p>Ø¬Ø±Ø¨ Ø§Ø®ØªÙŠØ§Ø± ÙØ¦Ø© Ù…Ø®ØªÙ„ÙØ© Ø£Ùˆ Ø§Ø³ØªØ¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
                        <button class="btn btn-primary" onclick="filterProductsByCategory('all')" style="margin-top: 1rem;">
                            <i class="fas fa-eye"></i> Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                        </button>
                    </div>
                `;
                return;
            }
            
            filteredProducts.forEach((key, index) => {
                const product = products[key];
                const availableSizes = product.availableSizes || [];
                const availableColors = product.availableColors || [];
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ù…Ø¹ Ø§Ù„Ø®ØµÙ…
                const discountInfo = calculateDiscountedPrice(product.price, 1, key);
                const hasDiscount = discountInfo.hasDiscount || discountInfo.hasPromoDiscount;
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø´Ø§Ø±Ø§Øª
                const isNew = product.isNew || (index < 3); // Ø£ÙˆÙ„ 3 Ù…Ù†ØªØ¬Ø§Øª ØªØ¹ØªØ¨Ø± Ø¬Ø¯ÙŠØ¯Ø©
                const isFreeDelivery = STORE_CONFIG.FREE_DELIVERY && 
                                      STORE_CONFIG.FREE_DELIVERY.freeDeliveryProducts &&
                                      STORE_CONFIG.FREE_DELIVERY.freeDeliveryProducts.includes(parseInt(key));
                const isBestseller = product.bestseller || (index % 5 === 0); // ÙƒÙ„ 5 Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ø­Ø¯ Ù…Ù†Ù‡Ø§ bestseller
                const hasQuantityDiscount = STORE_CONFIG.DISCOUNTS && 
                                          STORE_CONFIG.DISCOUNTS.enableQuantityDiscount;
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø§Ø±Ø§Øª
                let badgesHTML = '';
                if (hasDiscount) {
                    badgesHTML += `<div class="badge badge-discount"><i class="fas fa-percentage"></i> Ø®ØµÙ…</div>`;
                }
                if (isFreeDelivery) {
                    badgesHTML += `<div class="badge badge-free-delivery"><i class="fas fa-shipping-fast"></i> Ù…Ø¬Ø§Ù†ÙŠ</div>`;
                }
                if (isNew) {
                    badgesHTML += `<div class="badge badge-new"><i class="fas fa-star"></i> Ø¬Ø¯ÙŠØ¯</div>`;
                }
                if (isBestseller) {
                    badgesHTML += `<div class="badge badge-bestseller"><i class="fas fa-fire"></i> Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹</div>`;
                }
                
                // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù†
                let colorsPreviewHTML = '';
                if (availableColors && availableColors.length > 0) {
                    const colorsToShow = availableColors.slice(0, 4);
                    colorsPreviewHTML = `
                        <div class="color-preview">
                            ${colorsToShow.map(color => `
                                <div class="color-dot" style="background-color: ${getColorCode(color)};" 
                                     title="${color}"></div>
                            `).join('')}
                            ${availableColors.length > 4 ? 
                                `<div class="color-dot" style="background: linear-gradient(45deg, #ccc, #999); color: white; font-size: 0.6rem; display: flex; align-items: center; justify-content: center;">+${availableColors.length - 4}</div>` 
                                : ''}
                        </div>
                    `;
                }
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image-container" onclick="showProductDetails('${key}')">
                        <img src="${product.image}" alt="${product.name}" class="product-image" 
                             onerror="this.onerror=null; this.src='https://via.placeholder.com/400x400/ecf0f1/95a5a6?text=ØµÙˆØ±Ø©+ØºÙŠØ±+Ù…ØªØ§Ø­Ø©'">
                        
                        ${badgesHTML ? `<div class="product-badges">${badgesHTML}</div>` : ''}
                        
                        <button class="quick-add-btn" onclick="event.stopPropagation(); quickAddToCart('${key}')">
                            <i class="fas fa-cart-plus"></i>
                        </button>
                    </div>
                    
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        
                        <p class="product-description">${product.description}</p>
                        
                        ${colorsPreviewHTML}
                        
                        <div class="product-price">
                            <div class="price-container">
                                ${hasDiscount ? `
                                    <span class="original-price">${product.price} Ø¯Ø¬</span>
                                ` : ''}
                                <span class="discounted-price">${discountInfo.finalPrice} Ø¯Ø¬</span>
                                <span class="price-unit">/Ù„Ù„Ù‚Ø·Ø¹Ø©</span>
                            </div>
                            
                            ${hasDiscount ? `
                                <div class="savings-badge">
                                    <i class="fas fa-tag"></i> ÙˆÙØ± ${product.price - discountInfo.finalPrice} Ø¯Ø¬
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="product-meta">
                            <div class="product-rating">
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                                <span>(${product.rating || '4.5'})</span>
                            </div>
                            
                            <div class="product-sizes">
                                <i class="fas fa-ruler-combined"></i>
                                <span>${availableSizes.length || 'Ù…ØªØ¹Ø¯Ø¯'} Ù…Ù‚Ø§Ø³</span>
                            </div>
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ Ø§Ù„Ù„ÙˆÙ†
        function getColorCode(colorName) {
            const colorMap = {
                'Ø£Ø­Ù…Ø±': '#e74c3c',
                'Ø£Ø²Ø±Ù‚': '#3498db',
                'Ø£Ø®Ø¶Ø±': '#27ae60',
                'Ø£Ø³ÙˆØ¯': '#2c3e50',
                'Ø£Ø¨ÙŠØ¶': '#ffffff',
                'Ø±Ù…Ø§Ø¯ÙŠ': '#95a5a6',
                'Ø£ØµÙØ±': '#f1c40f',
                'Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ': '#e67e22',
                'ÙˆØ±Ø¯ÙŠ': '#fd79a8',
                'Ø¨Ù†ÙØ³Ø¬ÙŠ': '#9b59b6',
                'Ø¨Ù†ÙŠ': '#795548',
                'Ø°Ù‡Ø¨ÙŠ': '#f39c12',
                'ÙØ¶ÙŠ': '#bdc3c7',
                'ÙƒØ­Ù„ÙŠ': '#2c3e50',
                'Ø²ÙŠØªÙŠ': '#7f8c8d',
                'Ø³Ù…Ø§ÙˆÙŠ': '#00cec9',
                'Ù„ÙŠÙ…ÙˆÙ†ÙŠ': '#badc58'
            };
            return colorMap[colorName] || `#${Math.floor(Math.random()*16777215).toString(16)}`;
        }

        // ===== ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ¬Ø± =====
        function loadSavedConfig() {
            try {
                const savedConfig = localStorage.getItem('storeConfig');
                if (savedConfig) {
                    const parsedConfig = JSON.parse(savedConfig);
                    Object.assign(STORE_CONFIG, parsedConfig);
                }
            } catch (error) {
                console.log('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:', error);
            }
        }

        function updateStoreInterface() {
            if (STORE_CONFIG.STORE_INFO && STORE_CONFIG.STORE_INFO.name) {
                const storeName = STORE_CONFIG.STORE_INFO.name;
                const storeTagline = STORE_CONFIG.STORE_INFO.tagline || 'ğŸ‘‘ Ø£Ø¬Ù…Ù„ Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø·ÙØ§Ù„';
                const storeDescription = STORE_CONFIG.STORE_INFO.description || 'Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ø£Ø­Ø¯Ø« ØªØ´ÙƒÙŠÙ„Ø© Ù…Ù† Ù…Ù„Ø§Ø¨Ø³ ÙˆØ£Ø­Ø°ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©';
                
                document.getElementById('storeNameHeader').textContent = storeName;
                document.getElementById('storeTitleText').textContent = storeTagline;
                document.getElementById('storeDescription').textContent = storeDescription;
                document.getElementById('storeNameFooterText').textContent = storeName;
                
                document.title = `ğŸ›’ ${storeName} - ${storeTagline}`;
                document.getElementById('ogTitle').content = `ğŸ›’ ${storeName} - ${storeTagline}`;
                
                if (STORE_CONFIG.STORE_INFO.storeNameFooter) {
                    document.getElementById('storeNameFooter').textContent = STORE_CONFIG.STORE_INFO.storeNameFooter;
                } else {
                    document.getElementById('storeNameFooter').textContent = storeName;
                }
            }
            
            loadStoreLogo();
            updateSocialMediaLinks();
        }

        function loadStoreLogo() {
            const storeLogoHeader = document.getElementById('storeLogoHeader');
            const storeLogoMain = document.getElementById('storeLogoMain');
            const storeLogoFooter = document.getElementById('storeLogoFooter');
            
            if (STORE_CONFIG.STORE_INFO && STORE_CONFIG.STORE_INFO.logo) {
                const logoUrl = STORE_CONFIG.STORE_INFO.logo;
                const logoElements = [storeLogoHeader, storeLogoMain, storeLogoFooter];
                
                logoElements.forEach(logo => {
                    if (logo) {
                        logo.src = logoUrl;
                        logo.onload = function() {
                            logo.style.display = 'block';
                        };
                        logo.onerror = function() {
                            logo.style.display = 'none';
                            console.log('âŒ ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±');
                        };
                    }
                });
            }
        }

        function updateSocialMediaLinks() {
            if (!STORE_CONFIG.STORE_INFO) return;
            const storeInfo = STORE_CONFIG.STORE_INFO;
            
            const socialLinks = {
                whatsapp: document.getElementById('whatsappBtn'),
                facebook: document.getElementById('facebookBtn'),
                instagram: document.getElementById('instagramBtn'),
                messenger: document.getElementById('messengerBtn'),
                viber: document.getElementById('viberBtn'),
                whatsappFooter: document.getElementById('whatsappFooter'),
                facebookFooter: document.getElementById('facebookFooter'),
                instagramFooter: document.getElementById('instagramFooter'),
                messengerFooter: document.getElementById('messengerFooter'),
                viberFooter: document.getElementById('viberFooter')
            };
            
            Object.keys(socialLinks).forEach(platform => {
                const key = platform.replace('Footer', '');
                if (storeInfo[`${key}Url`]) {
                    socialLinks[platform].href = storeInfo[`${key}Url`];
                    socialLinks[platform].style.display = 'flex';
                }
            });
        }

        function initContactNumbers() {
            const phoneNumbersFirstPage = document.getElementById('phoneNumbersFirstPage');
            
            if (!phoneNumbersFirstPage) return;
            
            phoneNumbersFirstPage.innerHTML = '';
            
            if (STORE_CONFIG.STORE_INFO && STORE_CONFIG.STORE_INFO.phoneNumbers && STORE_CONFIG.STORE_INFO.phoneNumbers.length > 0) {
                const phoneNumbers = STORE_CONFIG.STORE_INFO.phoneNumbers.slice(0, 3);
                
                phoneNumbers.forEach(phoneNumber => {
                    const contactNumber = document.createElement('a');
                    contactNumber.className = 'contact-number';
                    contactNumber.href = `tel:${phoneNumber}`;
                    contactNumber.innerHTML = `
                        <i class="fas fa-phone-alt"></i>
                        <span>${phoneNumber}</span>
                    `;
                    phoneNumbersFirstPage.appendChild(contactNumber);
                });
            } else {
                // Ø£Ø±Ù‚Ø§Ù… Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                const defaultNumbers = ['0551234567', '0569876543'];
                defaultNumbers.forEach(number => {
                    const contactNumber = document.createElement('a');
                    contactNumber.className = 'contact-number';
                    contactNumber.href = `tel:${number}`;
                    contactNumber.innerHTML = `
                        <i class="fas fa-phone-alt"></i>
                        <span>${number}</span>
                    `;
                    phoneNumbersFirstPage.appendChild(contactNumber);
                });
            }
        }

        // ===== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙØ­Ø§Øª =====
        function switchPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            
            if (pageId === 'page2') {
                updateSelectedProducts();
                updatePrice();
                startSmartPulse();
            } else {
                stopSmartPulse();
            }
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function setupPageNavigation() {
            document.querySelectorAll('.page-nav').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetPage = this.getAttribute('data-page');
                    if (targetPage) switchPage(targetPage);
                });
            });
        }

        // ===== Ø§Ù„Ù†Ø¨Ø¶ Ø§Ù„Ø°ÙƒÙŠ =====
        function startSmartPulse() {
            if (smartPulseInterval) {
                clearInterval(smartPulseInterval);
            }
            
            smartPulseInterval = setInterval(() => {
                const wilayaSelect = document.getElementById('wilaya');
                const deliveryOptions = document.querySelectorAll('.delivery-option');
                
                if (cartItems.length > 0 && !selectedWilaya) {
                    wilayaSelect.classList.add('smart-pulse');
                } else {
                    wilayaSelect.classList.remove('smart-pulse');
                }
                
                if (selectedWilaya && !selectedDeliveryType) {
                    deliveryOptions.forEach(option => {
                        option.classList.add('smart-pulse');
                    });
                } else {
                    deliveryOptions.forEach(option => {
                        option.classList.remove('smart-pulse');
                    });
                }
            }, 2000);
        }

        function stopSmartPulse() {
            if (smartPulseInterval) {
                clearInterval(smartPulseInterval);
                smartPulseInterval = null;
            }
            
            const wilayaSelect = document.getElementById('wilaya');
            if (wilayaSelect) {
                wilayaSelect.classList.remove('smart-pulse');
            }
            
            document.querySelectorAll('.delivery-option').forEach(option => {
                option.classList.remove('smart-pulse');
            });
        }

        // ===== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³Ù„Ø© =====
        function addToCart(productKey, quantity, age, color, size = null) {
            const product = STORE_CONFIG.PRODUCTS[productKey];
            const itemId = Date.now().toString() + Math.random().toString(36).substr(2, 9);
            
            const existingItemIndex = cartItems.findIndex(item => 
                item.key === productKey && item.age === age && item.color === color
            );
            
            const itemColor = color || 'ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©';
            let finalSize = size || age || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            
            if (existingItemIndex > -1) {
                cartItems[existingItemIndex].quantity += quantity;
            } else {
                let itemImage = product.image;
                if (product.colorImages && product.colorImages[color] && product.colorImages[color].images.length > 0) {
                    itemImage = product.colorImages[color].images[0];
                }
                
                cartItems.push({
                    id: itemId,
                    key: productKey,
                    name: product.name,
                    price: parseInt(product.price),
                    quantity: quantity,
                    image: itemImage,
                    age: age,
                    color: itemColor,
                    size: finalSize
                });
            }
            
            updateCartDisplay();
            updateSelectedProducts();
            updatePrice();
            showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${product.name} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© ğŸ›’`, 'success');
        }

        function updateQuantity(itemId, change) {
            const itemIndex = cartItems.findIndex(item => item.id === itemId);
            
            if (itemIndex === -1) return;
            
            const newQuantity = cartItems[itemIndex].quantity + change;
            
            if (newQuantity < 1) {
                removeFromCart(itemId);
            } else {
                cartItems[itemIndex].quantity = newQuantity;
                updateCartDisplay();
                updateSelectedProducts();
                updatePrice();
            }
        }

        function removeFromCart(itemId) {
            const itemIndex = cartItems.findIndex(item => item.id === itemId);
            
            if (itemIndex === -1) return;
            
            const removedItem = cartItems[itemIndex];
            cartItems.splice(itemIndex, 1);
            updateCartDisplay();
            updateSelectedProducts();
            updatePrice();
            
            if (cartItems.length === 0) {
                document.getElementById('personalInfoSection').style.display = 'none';
            }
            
            showNotification(`ØªÙ… Ø¥Ø²Ø§Ù„Ø© ${removedItem.name} Ù…Ù† Ø§Ù„Ø³Ù„Ø©`, 'success');
        }

        function updateCartDisplay() {
            const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            const priceDetails = calculateTotalPrice();
            
            document.getElementById('cartBadge').textContent = totalItems;
            
            if (cartItems.length === 0) {
                document.getElementById('cartTotalPrice').textContent = '0 Ø¯Ø¬';
            } else {
                let displayText = `${priceDetails.total} Ø¯Ø¬`;
                if (priceDetails.isFreeDelivery) {
                    displayText += ' ğŸšš';
                }
                document.getElementById('cartTotalPrice').textContent = displayText;
            }
        }

        // ===== Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± =====
        function calculateTotalPrice() {
            const totalPieces = cartItems.reduce((sum, item) => sum + item.quantity, 0);
            const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = calculateTotalDiscount();
            const afterDiscount = Math.max(subtotal - discount, 0);
            
            let deliveryCost = 0;
            let isFreeDelivery = false;
            
            if (selectedWilaya && selectedDeliveryType && STORE_CONFIG.DELIVERY_PRICES && STORE_CONFIG.DELIVERY_PRICES[selectedWilaya]) {
                deliveryCost = STORE_CONFIG.DELIVERY_PRICES[selectedWilaya][selectedDeliveryType] || 0;
                
                if (isFreeDeliveryEligible(selectedDeliveryType, selectedWilaya, subtotal, totalPieces)) {
                    isFreeDelivery = true;
                    deliveryCost = 0;
                }
            }
            
            const total = afterDiscount + deliveryCost;
            
            return {
                totalPieces,
                subtotal,
                discount,
                afterDiscount,
                deliveryCost,
                total,
                isFreeDelivery
            };
        }

        function updatePrice() {
            return calculateTotalPrice();
        }

        function calculateDiscountedPrice(originalPrice, quantity, productKey = null) {
            if (!STORE_CONFIG.DISCOUNTS) {
                return {
                    finalPrice: originalPrice,
                    hasDiscount: false,
                    hasPromoDiscount: false
                };
            }
            
            let finalPrice = originalPrice;
            let hasDiscount = false;
            let hasPromoDiscount = false;

            if (STORE_CONFIG.DISCOUNTS.enablePromotionalDiscount) {
                const promoScope = STORE_CONFIG.DISCOUNTS.promoDiscountScope || 'all';
                let applyPromoDiscount = false;
                
                if (promoScope === 'all') {
                    applyPromoDiscount = true;
                } else if (promoScope === 'selected' && STORE_CONFIG.DISCOUNTS.promoDiscountProducts) {
                    const productKeyNum = parseInt(productKey);
                    applyPromoDiscount = STORE_CONFIG.DISCOUNTS.promoDiscountProducts.includes(productKeyNum);
                }
                
                if (applyPromoDiscount) {
                    const promoDiscountPercent = STORE_CONFIG.DISCOUNTS.promotionalDiscountPercent || 0;
                    if (promoDiscountPercent > 0) {
                        finalPrice = originalPrice - Math.round(originalPrice * (promoDiscountPercent / 100));
                        hasPromoDiscount = true;
                        hasDiscount = true;
                    }
                }
            }

            if (!hasPromoDiscount && STORE_CONFIG.DISCOUNTS.enableQuantityDiscount) {
                const minQuantity = STORE_CONFIG.DISCOUNTS.minQuantityForDiscount || 1;
                const discountPerItem = STORE_CONFIG.DISCOUNTS.discountPerItem || 0;
                const discountScope = STORE_CONFIG.DISCOUNTS.discountScope || 'all';
                
                let applyQuantityDiscount = false;
                
                if (discountScope === 'all') {
                    applyQuantityDiscount = true;
                } else if (discountScope === 'selected' && STORE_CONFIG.DISCOUNTS.discountProducts) {
                    const productKeyNum = parseInt(productKey);
                    applyQuantityDiscount = STORE_CONFIG.DISCOUNTS.discountProducts.includes(productKeyNum);
                }
                
                if (applyQuantityDiscount && quantity >= minQuantity) {
                    finalPrice = Math.max(((originalPrice * quantity) - (discountPerItem * quantity))/quantity, 0);
                    hasDiscount = true;
                }
            }
            
            return {
                finalPrice: finalPrice,
                hasDiscount: hasDiscount,
                hasPromoDiscount: hasPromoDiscount
            };
        }

        function calculateTotalDiscount() {
            if (!STORE_CONFIG.DISCOUNTS) return 0;
            
            let totalDiscount = 0;
            
            if (STORE_CONFIG.DISCOUNTS.enableQuantityDiscount) {
                const minQuantity = STORE_CONFIG.DISCOUNTS.minQuantityForDiscount || 1;
                const discountPerItem = STORE_CONFIG.DISCOUNTS.discountPerItem || 0;
                const discountScope = STORE_CONFIG.DISCOUNTS.discountScope || 'all';
                
                if (discountScope === 'all') {
                    const totalQuantity = cartItems.reduce((sum, item) => sum + item.quantity, 0);
                    if (totalQuantity >= minQuantity) {
                        totalDiscount += discountPerItem * totalQuantity;
                    }
                }
            }
            
            if (STORE_CONFIG.DISCOUNTS.enablePromotionalDiscount) {
                const promoScope = STORE_CONFIG.DISCOUNTS.promoDiscountScope || 'all';
                const promoPercent = STORE_CONFIG.DISCOUNTS.promotionalDiscountPercent || 0;
                
                if (promoScope === 'all') {
                    cartItems.forEach(item => {
                        const product = STORE_CONFIG.PRODUCTS[item.key];
                        totalDiscount += Math.round(product.price * item.quantity * (promoPercent / 100));
                    });
                }
            }
            
            return totalDiscount;
        }

        // ===== Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ =====
        function isFreeDeliveryEligible(deliveryType, wilaya, subtotal, totalQuantity) {
            if (!STORE_CONFIG.FREE_DELIVERY) return false;
            
            const freeDeliveryConfig = STORE_CONFIG.FREE_DELIVERY[deliveryType];
            if (!freeDeliveryConfig || !freeDeliveryConfig.enabled) return false;
            
            if (freeDeliveryConfig.minQuantity !== null && freeDeliveryConfig.minQuantity !== undefined) {
                if (totalQuantity < freeDeliveryConfig.minQuantity) return false;
            }
            
            if (freeDeliveryConfig.wilayas && freeDeliveryConfig.wilayas.length > 0) {
                if (!freeDeliveryConfig.wilayas.includes(wilaya)) return false;
            }
            
            return true;
        }

        // ===== Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙˆØ§Ù„ØªÙˆØµÙŠÙ„ =====
        function initWilayaOptions() {
            const wilayaSelect = document.getElementById('wilaya');
            if (!wilayaSelect) return;
            
            wilayaSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</option>';
            
            if (STORE_CONFIG.DELIVERY_PRICES) {
                Object.keys(STORE_CONFIG.DELIVERY_PRICES).forEach(wilaya => {
                    const option = document.createElement('option');
                    option.value = wilaya;
                    option.textContent = wilaya;
                    wilayaSelect.appendChild(option);
                });
            }
        }

        function handleWilayaChange() {
            const wilayaSelect = document.getElementById('wilaya');
            selectedWilaya = wilayaSelect.value;
            
            wilayaSelect.classList.remove('smart-pulse');
            
            if (selectedWilaya) {
                const deliveryTypeSection = document.getElementById('deliveryTypeSection');
                deliveryTypeSection.style.display = 'block';
                updateDeliveryPricesDisplay();
                checkDeliveryFields();
                startSmartPulse();
            } else {
                document.getElementById('deliveryTypeSection').style.display = 'none';
                selectedDeliveryType = null;
                document.getElementById('personalInfoSection').style.display = 'none';
                document.getElementById('confirmOrderBtn').disabled = true;
                
                document.querySelectorAll('.delivery-option').forEach(option => {
                    option.classList.remove('smart-pulse');
                });
            }
            
            updateDeliveryCost();
        }

        function selectDeliveryType(type) {
            selectedDeliveryType = type;
            
            document.querySelectorAll('.delivery-option').forEach(option => {
                option.classList.remove('selected');
                option.classList.remove('smart-pulse');
            });
            
            const selectedOption = document.getElementById(`${type}Delivery`);
            selectedOption.classList.add('selected');
            
            updateDeliveryPriceDisplay(type);
            document.getElementById('personalInfoSection').style.display = 'block';
            
            const nameField = document.getElementById('name');
            nameField.focus();
            
            updateDeliveryCost();
        }

        function updateDeliveryPriceDisplay(type) {
            const priceElement = document.getElementById(`${type}DeliveryPrice`);
            const deliveryOption = document.getElementById(`${type}Delivery`);
            
            if (!selectedWilaya || !STORE_CONFIG.DELIVERY_PRICES || !STORE_CONFIG.DELIVERY_PRICES[selectedWilaya]) {
                return;
            }
            
            const prices = STORE_CONFIG.DELIVERY_PRICES[selectedWilaya];
            const subtotal = calculateTotalPrice().subtotal;
            const totalQuantity = calculateTotalPrice().totalPieces;
            const cost = prices[type] || 0;

            const isFree = isFreeDeliveryEligible(type, selectedWilaya, subtotal, totalQuantity);

            if (isFree) {
                priceElement.textContent = 'Ù…Ø¬Ø§Ù†ÙŠ';
                priceElement.style.backgroundColor = 'var(--success)';
            } else {
                priceElement.textContent = `${cost} Ø¯Ø¬`;
                priceElement.style.backgroundColor = 'var(--accent)';
            }
        }

        function updateDeliveryPricesDisplay() {
            if (!selectedWilaya || !STORE_CONFIG.DELIVERY_PRICES || !STORE_CONFIG.DELIVERY_PRICES[selectedWilaya]) {
                return;
            }
            
            ['desk', 'home'].forEach(type => {
                updateDeliveryPriceDisplay(type);
            });
        }

        function updateDeliveryCost() {
            updatePrice();
            updateCartDisplay();
        }

        // ===== Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†ØªØ¬ =====
        function showProductDetails(productKey) {
            const product = STORE_CONFIG.PRODUCTS[productKey];
            if (!product) return;
            
            currentProductKey = productKey;
            selectedAge = null;
            selectedColor = null;
            
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù‡Ù†Ø§
            showNotification(`Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬: ${product.name}`, 'info');
            
            // ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø³ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ù†Ø§ÙØ°Ø© Ù…ÙˆØ¯Ø§Ù„ ØªÙØµÙŠÙ„ÙŠØ©
            console.log('Ø¹Ø±Ø¶ Ù…Ù†ØªØ¬:', productKey, product.name);
        }

        function quickAddToCart(productKey) {
            event.stopPropagation();
            const product = STORE_CONFIG.PRODUCTS[productKey];
            
            const productSizes = product.availableSizes || [];
            const productColors = product.availableColors || [];
            
            if (productSizes.length > 1 || productColors.length > 1) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³ Ø£ÙˆÙ„Ø§Ù‹', 'warning');
                showProductDetails(productKey);
                return;
            }
            
            const defaultSize = productSizes.length === 1 ? productSizes[0] : null;
            const defaultColor = productColors.length === 1 ? productColors[0] : null;
            
            addToCart(productKey, 1, defaultSize, defaultColor);
        }

        // ===== ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ =====
        function handleFieldInput(field) {
            checkDeliveryFields();
        }

        function handlePhoneInput(field) {
            field.value = field.value.replace(/[^0-9]/g, '');
            
            const phoneValue = field.value;
            const phoneValidation = document.getElementById('phoneValidation');
            
            if (phoneValue.length > 0) {
                if (/^(05|06|07)/.test(phoneValue)) {
                    phoneValidation.innerHTML = '<i class="fas fa-check-circle" style="color: var(--success);"></i><span style="color: var(--success);">Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­</span>';
                } else {
                    phoneValidation.innerHTML = '<i class="fas fa-exclamation-circle" style="color: #e74c3c;"></i><span style="color: #e74c3c;">ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø±Ù‚Ù… Ø¨Ù€ 05 Ø£Ùˆ 06 Ø£Ùˆ 07</span>';
                }
            } else {
                phoneValidation.innerHTML = '<i class="fas fa-info-circle"></i><span>ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø±Ù‚Ù… Ø¨Ù€ 05 Ø£Ùˆ 06 Ø£Ùˆ 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…</span>';
            }
            
            checkDeliveryFields();
        }

        function checkDeliveryFields() {
            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const address = document.getElementById('address').value.trim();
            const commune = document.getElementById('commune').value.trim();
            const confirmBtn = document.getElementById('confirmOrderBtn');
            
            const allFieldsFilled = name && phone && address && commune && selectedWilaya && selectedDeliveryType && cartItems.length > 0;
            
            const phoneValid = /^(05|06|07)[0-9]{8}$/.test(phone);
            
            confirmBtn.disabled = !(allFieldsFilled && phoneValid);
        }

        // ===== Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª =====
        function showNotification(message, type = 'info') {
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            let icon = 'info-circle';
            let iconColor = 'var(--accent)';
            
            if (type === 'success') {
                icon = 'check-circle';
                iconColor = 'var(--success)';
            } else if (type === 'error') {
                icon = 'exclamation-circle';
                iconColor = 'var(--danger)';
            } else if (type === 'warning') {
                icon = 'exclamation-triangle';
                iconColor = 'var(--warning)';
            }
            
            notification.innerHTML = `
                <i class="fas fa-${icon}" style="color: ${iconColor}; font-size: 1.1rem;"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(-50%) translateY(-20px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 300);
            }, 3000);
        }

        // ===== Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† =====
        function setupEventListeners() {
            const orderForm = document.getElementById('orderForm');
            if (orderForm) {
                orderForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const formData = {
                        name: document.getElementById('name').value.trim(),
                        phone: document.getElementById('phone').value.trim(),
                        address: document.getElementById('address').value.trim(),
                        commune: document.getElementById('commune').value.trim()
                    };
                    
                    if (!formData.name || !formData.phone || !formData.address || !formData.commune) {
                        showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©', 'error');
                        return;
                    }
                    
                    if (!/^(05|06|07)[0-9]{8}$/.test(formData.phone)) {
                        showNotification('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05 Ø£Ùˆ 06 Ø£Ùˆ 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…', 'error');
                        return;
                    }
                    
                    const orderData = prepareOrderData(formData);
                    const success = await submitOrder(orderData);
                    
                    if (success) {
                        resetOrderForm();
                    }
                });
            }
        }

        // ===== ÙˆØ¸Ø§Ø¦Ù Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ =====
        function prepareOrderData(formData) {
            const priceDetails = calculateTotalPrice();
            const orderItems = cartItems.map(item => {
                const itemDiscountInfo = calculateDiscountedPrice(item.price, item.quantity, item.key);
                return {
                    name: item.name,
                    quantity: item.quantity,
                    price: item.price,
                    finalPrice: itemDiscountInfo.finalPrice,
                    size: item.size,
                    color: item.color,
                    image: item.image
                };
            });

            return {
                timestamp: new Date().toLocaleString('fr-FR'),
                customerName: formData.name,
                customerPhone: formData.phone,
                customerAddress: formData.address,
                customerCommune: formData.commune,
                wilaya: selectedWilaya,
                deliveryType: selectedDeliveryType,
                items: orderItems,
                subtotal: priceDetails.subtotal,
                discount: priceDetails.discount,
                deliveryCost: priceDetails.deliveryCost,
                total: priceDetails.total,
                totalPieces: priceDetails.totalPieces,
                isFreeDelivery: priceDetails.isFreeDelivery,
                status: 'Ø¬Ø¯ÙŠØ¯'
            };
        }

        async function submitOrder(orderData) {
            try {
                const confirmOrderBtn = document.getElementById('confirmOrderBtn');
                if (confirmOrderBtn) confirmOrderBtn.style.display = 'none';

                showOrderConfirmation();
                
                const saveSuccess = saveOrderToLocalStorage(orderData);
                if (!saveSuccess) {
                    throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ù„ÙŠ');
                }

                if (navigator.onLine) {
                    try {
                        await fetch(GOOGLE_SCRIPT_URL, {
                            method: 'POST',
                            mode: 'no-cors',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(orderData)
                        });
                    } catch (networkError) {
                        console.log('ğŸŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ù„ÙƒÙ† Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­ÙÙˆØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹');
                    }
                }

                await new Promise(resolve => setTimeout(resolve, 2000));
                showOrderSuccessAndRedirect(orderData);
                
                return true;
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨:', error);
                showNotification('âŒ ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰', 'error');
                const confirmOrderBtn = document.getElementById('confirmOrderBtn');
                if (confirmOrderBtn) confirmOrderBtn.style.display = 'inline-flex';
                return false;
            }
        }

        function saveOrderToLocalStorage(orderData) {
            try {
                const orderId = 'ORD-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
                const orderToSave = {
                    id: orderId,
                    timestamp: new Date().toISOString(),
                    status: 'pending',
                    ...orderData
                };
                
                const existingOrders = JSON.parse(localStorage.getItem('storeOrders') || '[]');
                existingOrders.unshift(orderToSave);
                localStorage.setItem('storeOrders', JSON.stringify(existingOrders));
                return true;
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹:', error);
                return false;
            }
        }

        function showOrderConfirmation() {
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù‡Ù†Ø§
            console.log('Ø¹Ø±Ø¶ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨');
        }

        function showOrderSuccessAndRedirect(orderData) {
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ù‡Ù†Ø§
            console.log('Ø¹Ø±Ø¶ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø·Ù„Ø¨:', orderData);
        }

        function resetOrderForm() {
            cartItems = [];
            const orderForm = document.getElementById('orderForm');
            if (orderForm) orderForm.reset();
            selectedWilaya = null;
            selectedDeliveryType = null;
            updateCartDisplay();
            updateSelectedProducts();
            updatePrice();
            
            const deliveryTypeSection = document.getElementById('deliveryTypeSection');
            if (deliveryTypeSection) deliveryTypeSection.style.display = 'none';
            
            const personalInfoSection = document.getElementById('personalInfoSection');
            if (personalInfoSection) personalInfoSection.style.display = 'none';
            
            const phoneValidation = document.getElementById('phoneValidation');
            if (phoneValidation) {
                phoneValidation.innerHTML = '<i class="fas fa-info-circle"></i><span>ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø±Ù‚Ù… Ø¨Ù€ 05 Ø£Ùˆ 06 Ø£Ùˆ 07 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…</span>';
            }
            
            const confirmOrderBtn = document.getElementById('confirmOrderBtn');
            if (confirmOrderBtn) {
                confirmOrderBtn.style.display = 'inline-flex';
                confirmOrderBtn.disabled = true;
            }
            
            stopSmartPulse();
            switchPage('page1');
            showNotification('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªØµÙ„ Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ âœ…', 'success');
        }

        // ===== Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ =====
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
